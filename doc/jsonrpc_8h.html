<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="generator" content="Doxygen 1.10.0" />
  <title>SPDK: jsonrpc.h File Reference</title>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script type="text/javascript" src="../js/doxyboot.js"></script>
  <script type="text/javascript" src="./navtree.js"></script>
  <link href="../css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <link href="../css/spdk.css" rel="stylesheet" type="text/css">
</head>
<body>
  <nav class="navbar navbar-expand-md navbar-dark bg-dark px-2">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <a class="navbar-brand" href="/" aria-label="SPDK">
      <img src="/img/spdk.svg"  width="36" height="36" alt="Storage Performance Development Kit" />
    </a>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <div class="navbar-nav me-auto">
        <a class="nav-link header-link active" href="../doc/">Documentation</a>
        <a class="nav-link header-link" href="../development/">Development</a>
        <a class="nav-link header-link" href="../community/">Community</a>
        <a class="nav-link header-link" href="../blog/">Blog</a>
      </div>
      <div class="navbar-nav ms-auto me-3">
        <a class="nav-link header-link" href="https://github.com/spdk/spdk">
          <svg xmlns="http://www.w3.org/2000/svg" class="navbar-nav-svg"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
        </a>
      </div>
    </div>
  </nav>
  <div class="container-fluid doc">
      <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('jsonrpc_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">jsonrpc.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>JSON-RPC 2.0 server implementation.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__jsonrpc__client__response.html">spdk_jsonrpc_client_response</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac5daba7e52db2743cc95dba00534ecd1" id="r_ac5daba7e52db2743cc95dba00534ecd1"><td class="memItemLeft" align="right" valign="top"><a id="ac5daba7e52db2743cc95dba00534ecd1" name="ac5daba7e52db2743cc95dba00534ecd1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPDK_JSONRPC_ERROR_PARSE_ERROR</b>&#160;&#160;&#160;-32700</td></tr>
<tr class="separator:ac5daba7e52db2743cc95dba00534ecd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae48bc3b476636afa0c58f7fd36cdc7d1" id="r_ae48bc3b476636afa0c58f7fd36cdc7d1"><td class="memItemLeft" align="right" valign="top"><a id="ae48bc3b476636afa0c58f7fd36cdc7d1" name="ae48bc3b476636afa0c58f7fd36cdc7d1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPDK_JSONRPC_ERROR_INVALID_REQUEST</b>&#160;&#160;&#160;-32600</td></tr>
<tr class="separator:ae48bc3b476636afa0c58f7fd36cdc7d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc26b54313be26e70aadad6e11b1d548" id="r_abc26b54313be26e70aadad6e11b1d548"><td class="memItemLeft" align="right" valign="top"><a id="abc26b54313be26e70aadad6e11b1d548" name="abc26b54313be26e70aadad6e11b1d548"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPDK_JSONRPC_ERROR_METHOD_NOT_FOUND</b>&#160;&#160;&#160;-32601</td></tr>
<tr class="separator:abc26b54313be26e70aadad6e11b1d548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97fe9c9d3f9eb731dd9cf320318d43aa" id="r_a97fe9c9d3f9eb731dd9cf320318d43aa"><td class="memItemLeft" align="right" valign="top"><a id="a97fe9c9d3f9eb731dd9cf320318d43aa" name="a97fe9c9d3f9eb731dd9cf320318d43aa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPDK_JSONRPC_ERROR_INVALID_PARAMS</b>&#160;&#160;&#160;-32602</td></tr>
<tr class="separator:a97fe9c9d3f9eb731dd9cf320318d43aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e2cef86b68fbf093df54c37ba1c2a4a" id="r_a1e2cef86b68fbf093df54c37ba1c2a4a"><td class="memItemLeft" align="right" valign="top"><a id="a1e2cef86b68fbf093df54c37ba1c2a4a" name="a1e2cef86b68fbf093df54c37ba1c2a4a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPDK_JSONRPC_ERROR_INTERNAL_ERROR</b>&#160;&#160;&#160;-32603</td></tr>
<tr class="separator:a1e2cef86b68fbf093df54c37ba1c2a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eb3dec195e22ff481e317f41b1b0d95" id="r_a0eb3dec195e22ff481e317f41b1b0d95"><td class="memItemLeft" align="right" valign="top"><a id="a0eb3dec195e22ff481e317f41b1b0d95" name="a0eb3dec195e22ff481e317f41b1b0d95"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPDK_JSONRPC_ERROR_INVALID_STATE</b>&#160;&#160;&#160;-1</td></tr>
<tr class="separator:a0eb3dec195e22ff481e317f41b1b0d95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a74afccd199dde8aaebd020ac513cf819" id="r_a74afccd199dde8aaebd020ac513cf819"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a74afccd199dde8aaebd020ac513cf819">spdk_jsonrpc_handle_request_fn</a>) (struct spdk_jsonrpc_request *request, const struct <a class="el" href="structspdk__json__val.html">spdk_json_val</a> *method, const struct <a class="el" href="structspdk__json__val.html">spdk_json_val</a> *params)</td></tr>
<tr class="memdesc:a74afccd199dde8aaebd020ac513cf819"><td class="mdescLeft">&#160;</td><td class="mdescRight">User callback to handle a single JSON-RPC request.  <br /></td></tr>
<tr class="separator:a74afccd199dde8aaebd020ac513cf819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf8426aab51d139cff1597b5c4cf37e3" id="r_adf8426aab51d139cff1597b5c4cf37e3"><td class="memItemLeft" align="right" valign="top"><a id="adf8426aab51d139cff1597b5c4cf37e3" name="adf8426aab51d139cff1597b5c4cf37e3"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_jsonrpc_conn_closed_fn</b>) (struct spdk_jsonrpc_server_conn *conn, void *arg)</td></tr>
<tr class="separator:adf8426aab51d139cff1597b5c4cf37e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5160e9c0a3230584ca653ffd2ea64487" id="r_a5160e9c0a3230584ca653ffd2ea64487"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5160e9c0a3230584ca653ffd2ea64487">spdk_jsonrpc_client_response_parser</a>) (void *parser_ctx, const struct <a class="el" href="structspdk__json__val.html">spdk_json_val</a> *result)</td></tr>
<tr class="memdesc:a5160e9c0a3230584ca653ffd2ea64487"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for specific RPC method response parsing handlers.  <br /></td></tr>
<tr class="separator:a5160e9c0a3230584ca653ffd2ea64487"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aeeb31df31b1ad5b34713611ce8ca9291" id="r_aeeb31df31b1ad5b34713611ce8ca9291"><td class="memItemLeft" align="right" valign="top">struct spdk_jsonrpc_server *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeeb31df31b1ad5b34713611ce8ca9291">spdk_jsonrpc_server_listen</a> (int domain, int protocol, struct sockaddr *listen_addr, socklen_t addrlen, <a class="el" href="#a74afccd199dde8aaebd020ac513cf819">spdk_jsonrpc_handle_request_fn</a> handle_request)</td></tr>
<tr class="memdesc:aeeb31df31b1ad5b34713611ce8ca9291"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a JSON-RPC server listening on the required address.  <br /></td></tr>
<tr class="separator:aeeb31df31b1ad5b34713611ce8ca9291"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab91b6125cbea0661bdfa87400b6c3020" id="r_ab91b6125cbea0661bdfa87400b6c3020"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab91b6125cbea0661bdfa87400b6c3020">spdk_jsonrpc_server_poll</a> (struct spdk_jsonrpc_server *server)</td></tr>
<tr class="memdesc:ab91b6125cbea0661bdfa87400b6c3020"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll the requests to the JSON-RPC server.  <br /></td></tr>
<tr class="separator:ab91b6125cbea0661bdfa87400b6c3020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7d4f7ed2234b0cd20e3c87685030b2f" id="r_aa7d4f7ed2234b0cd20e3c87685030b2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa7d4f7ed2234b0cd20e3c87685030b2f">spdk_jsonrpc_server_shutdown</a> (struct spdk_jsonrpc_server *server)</td></tr>
<tr class="memdesc:aa7d4f7ed2234b0cd20e3c87685030b2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown the JSON-RPC server.  <br /></td></tr>
<tr class="separator:aa7d4f7ed2234b0cd20e3c87685030b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b83324df0f2cdc7c269b16918d72d71" id="r_a3b83324df0f2cdc7c269b16918d72d71"><td class="memItemLeft" align="right" valign="top">struct spdk_jsonrpc_server_conn *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b83324df0f2cdc7c269b16918d72d71">spdk_jsonrpc_get_conn</a> (struct spdk_jsonrpc_request *request)</td></tr>
<tr class="memdesc:a3b83324df0f2cdc7c269b16918d72d71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return connection associated to <code>request</code>.  <br /></td></tr>
<tr class="separator:a3b83324df0f2cdc7c269b16918d72d71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7246f2742a3bebe9494defa7d305de84" id="r_a7246f2742a3bebe9494defa7d305de84"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7246f2742a3bebe9494defa7d305de84">spdk_jsonrpc_conn_add_close_cb</a> (struct spdk_jsonrpc_server_conn *conn, spdk_jsonrpc_conn_closed_fn cb, void *ctx)</td></tr>
<tr class="memdesc:a7246f2742a3bebe9494defa7d305de84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add callback called when connection is closed.  <br /></td></tr>
<tr class="separator:a7246f2742a3bebe9494defa7d305de84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42f6b43bea611799dccb7ac98bb11930" id="r_a42f6b43bea611799dccb7ac98bb11930"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a42f6b43bea611799dccb7ac98bb11930">spdk_jsonrpc_conn_del_close_cb</a> (struct spdk_jsonrpc_server_conn *conn, spdk_jsonrpc_conn_closed_fn cb, void *ctx)</td></tr>
<tr class="memdesc:a42f6b43bea611799dccb7ac98bb11930"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove registered close callback.  <br /></td></tr>
<tr class="separator:a42f6b43bea611799dccb7ac98bb11930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a1e9cd8198bfac34362325ee2098dfd" id="r_a3a1e9cd8198bfac34362325ee2098dfd"><td class="memItemLeft" align="right" valign="top">struct spdk_json_write_ctx *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a1e9cd8198bfac34362325ee2098dfd">spdk_jsonrpc_begin_result</a> (struct spdk_jsonrpc_request *request)</td></tr>
<tr class="memdesc:a3a1e9cd8198bfac34362325ee2098dfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin building a response to a JSON-RPC request.  <br /></td></tr>
<tr class="separator:a3a1e9cd8198bfac34362325ee2098dfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3d607f5a980bf9eb793ef2b553f679a" id="r_af3d607f5a980bf9eb793ef2b553f679a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3d607f5a980bf9eb793ef2b553f679a">spdk_jsonrpc_end_result</a> (struct spdk_jsonrpc_request *request, struct spdk_json_write_ctx *w)</td></tr>
<tr class="memdesc:af3d607f5a980bf9eb793ef2b553f679a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Complete and send a JSON-RPC response.  <br /></td></tr>
<tr class="separator:af3d607f5a980bf9eb793ef2b553f679a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27bade57c1aa87a5e962373c35ef82fc" id="r_a27bade57c1aa87a5e962373c35ef82fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27bade57c1aa87a5e962373c35ef82fc">spdk_jsonrpc_send_bool_response</a> (struct spdk_jsonrpc_request *request, bool value)</td></tr>
<tr class="memdesc:a27bade57c1aa87a5e962373c35ef82fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Complete a JSON-RPC response and write bool result.  <br /></td></tr>
<tr class="separator:a27bade57c1aa87a5e962373c35ef82fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a506661cfdfda6f549c69a6f4a988a026" id="r_a506661cfdfda6f549c69a6f4a988a026"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a506661cfdfda6f549c69a6f4a988a026">spdk_jsonrpc_send_error_response</a> (struct spdk_jsonrpc_request *request, int error_code, const char *msg)</td></tr>
<tr class="memdesc:a506661cfdfda6f549c69a6f4a988a026"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an error response to a JSON-RPC request.  <br /></td></tr>
<tr class="separator:a506661cfdfda6f549c69a6f4a988a026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7d1dc3ef99ed408859d9a5f6802ad65" id="r_ae7d1dc3ef99ed408859d9a5f6802ad65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae7d1dc3ef99ed408859d9a5f6802ad65">spdk_jsonrpc_send_error_response_fmt</a> (struct spdk_jsonrpc_request *request, int error_code, const char *fmt,...)</td></tr>
<tr class="memdesc:ae7d1dc3ef99ed408859d9a5f6802ad65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an error response to a JSON-RPC request.  <br /></td></tr>
<tr class="separator:ae7d1dc3ef99ed408859d9a5f6802ad65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ce0cf522ddb54ec40c34462b08b0251" id="r_a2ce0cf522ddb54ec40c34462b08b0251"><td class="memItemLeft" align="right" valign="top">struct spdk_json_write_ctx *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ce0cf522ddb54ec40c34462b08b0251">spdk_jsonrpc_begin_request</a> (struct spdk_jsonrpc_client_request *request, int32_t id, const char *method)</td></tr>
<tr class="memdesc:a2ce0cf522ddb54ec40c34462b08b0251"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin building a JSON-RPC request.  <br /></td></tr>
<tr class="separator:a2ce0cf522ddb54ec40c34462b08b0251"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ae1b767ebb4ad59a9c4739beea1c6f4" id="r_a9ae1b767ebb4ad59a9c4739beea1c6f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ae1b767ebb4ad59a9c4739beea1c6f4">spdk_jsonrpc_end_request</a> (struct spdk_jsonrpc_client_request *request, struct spdk_json_write_ctx *w)</td></tr>
<tr class="memdesc:a9ae1b767ebb4ad59a9c4739beea1c6f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Complete a JSON-RPC request.  <br /></td></tr>
<tr class="separator:a9ae1b767ebb4ad59a9c4739beea1c6f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a905edc750ec7e584cd283b808ef65062" id="r_a905edc750ec7e584cd283b808ef65062"><td class="memItemLeft" align="right" valign="top">struct spdk_jsonrpc_client *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a905edc750ec7e584cd283b808ef65062">spdk_jsonrpc_client_connect</a> (const char *addr, int addr_family)</td></tr>
<tr class="memdesc:a905edc750ec7e584cd283b808ef65062"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to the specified RPC server.  <br /></td></tr>
<tr class="separator:a905edc750ec7e584cd283b808ef65062"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5f5cca3e578e6eb3c0069e9662a1b79" id="r_ad5f5cca3e578e6eb3c0069e9662a1b79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5f5cca3e578e6eb3c0069e9662a1b79">spdk_jsonrpc_client_close</a> (struct spdk_jsonrpc_client *client)</td></tr>
<tr class="memdesc:ad5f5cca3e578e6eb3c0069e9662a1b79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close JSON-RPC connection and free <code>client</code> object.  <br /></td></tr>
<tr class="separator:ad5f5cca3e578e6eb3c0069e9662a1b79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fb341f7a6ea07000d47b6fc2c302905" id="r_a6fb341f7a6ea07000d47b6fc2c302905"><td class="memItemLeft" align="right" valign="top">struct spdk_jsonrpc_client_request *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6fb341f7a6ea07000d47b6fc2c302905">spdk_jsonrpc_client_create_request</a> (void)</td></tr>
<tr class="memdesc:a6fb341f7a6ea07000d47b6fc2c302905"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create one JSON-RPC request.  <br /></td></tr>
<tr class="separator:a6fb341f7a6ea07000d47b6fc2c302905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42438592f780e35892904af6be663617" id="r_a42438592f780e35892904af6be663617"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a42438592f780e35892904af6be663617">spdk_jsonrpc_client_free_request</a> (struct spdk_jsonrpc_client_request *req)</td></tr>
<tr class="memdesc:a42438592f780e35892904af6be663617"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free one JSON-RPC request.  <br /></td></tr>
<tr class="separator:a42438592f780e35892904af6be663617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaadb8c7ec1b7472b41e74c27f08494b7" id="r_aaadb8c7ec1b7472b41e74c27f08494b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaadb8c7ec1b7472b41e74c27f08494b7">spdk_jsonrpc_client_send_request</a> (struct spdk_jsonrpc_client *client, struct spdk_jsonrpc_client_request *req)</td></tr>
<tr class="memdesc:aaadb8c7ec1b7472b41e74c27f08494b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the JSON-RPC request in JSON-RPC client.  <br /></td></tr>
<tr class="separator:aaadb8c7ec1b7472b41e74c27f08494b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27688ab4587564524fefa84abc13ad3c" id="r_a27688ab4587564524fefa84abc13ad3c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27688ab4587564524fefa84abc13ad3c">spdk_jsonrpc_client_poll</a> (struct spdk_jsonrpc_client *client, int timeout)</td></tr>
<tr class="memdesc:a27688ab4587564524fefa84abc13ad3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll the JSON-RPC client.  <br /></td></tr>
<tr class="separator:a27688ab4587564524fefa84abc13ad3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af340c1cd0f0ce8c00caac2713033f28f" id="r_af340c1cd0f0ce8c00caac2713033f28f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structspdk__jsonrpc__client__response.html">spdk_jsonrpc_client_response</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af340c1cd0f0ce8c00caac2713033f28f">spdk_jsonrpc_client_get_response</a> (struct spdk_jsonrpc_client *client)</td></tr>
<tr class="memdesc:af340c1cd0f0ce8c00caac2713033f28f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return JSON RPC response object representing next available response from client connection.  <br /></td></tr>
<tr class="separator:af340c1cd0f0ce8c00caac2713033f28f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdbb193a4b8ca1c57c2b43223165dfa6" id="r_acdbb193a4b8ca1c57c2b43223165dfa6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acdbb193a4b8ca1c57c2b43223165dfa6">spdk_jsonrpc_client_free_response</a> (struct <a class="el" href="structspdk__jsonrpc__client__response.html">spdk_jsonrpc_client_response</a> *resp)</td></tr>
<tr class="memdesc:acdbb193a4b8ca1c57c2b43223165dfa6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free response object obtained from <code>spdk_jsonrpc_client_get_response</code>.  <br /></td></tr>
<tr class="separator:acdbb193a4b8ca1c57c2b43223165dfa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3bbeff8c3dd1d8f4e48aa33036eb215" id="r_ab3bbeff8c3dd1d8f4e48aa33036eb215"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab3bbeff8c3dd1d8f4e48aa33036eb215">spdk_jsonrpc_set_log_level</a> (enum <a class="el" href="log_8h.html#a188d351bd05093cba1d8594ee9988efd">spdk_log_level</a> level)</td></tr>
<tr class="memdesc:ab3bbeff8c3dd1d8f4e48aa33036eb215"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the log level used by the JSON-RPC server to log RPC request and response objects.  <br /></td></tr>
<tr class="separator:ab3bbeff8c3dd1d8f4e48aa33036eb215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4839d55c5da4ce5929a08a5d2f35e4bf" id="r_a4839d55c5da4ce5929a08a5d2f35e4bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4839d55c5da4ce5929a08a5d2f35e4bf">spdk_jsonrpc_set_log_file</a> (FILE *file)</td></tr>
<tr class="memdesc:a4839d55c5da4ce5929a08a5d2f35e4bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the log file used by the JSON-RPC server to log RPC request and response objects.  <br /></td></tr>
<tr class="separator:a4839d55c5da4ce5929a08a5d2f35e4bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>JSON-RPC 2.0 server implementation. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a5160e9c0a3230584ca653ffd2ea64487" name="a5160e9c0a3230584ca653ffd2ea64487"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5160e9c0a3230584ca653ffd2ea64487">&#9670;&#160;</a></span>spdk_jsonrpc_client_response_parser</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* spdk_jsonrpc_client_response_parser) (void *parser_ctx, const struct <a class="el" href="structspdk__json__val.html">spdk_json_val</a> *result)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for specific RPC method response parsing handlers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parser_ctx</td><td>context where analysis are put. </td></tr>
    <tr><td class="paramname">result</td><td>json values responded to this method.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. SPDK_JSON_PARSE_INVALID on failure. </dd></dl>

</div>
</div>
<a id="a74afccd199dde8aaebd020ac513cf819" name="a74afccd199dde8aaebd020ac513cf819"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74afccd199dde8aaebd020ac513cf819">&#9670;&#160;</a></span>spdk_jsonrpc_handle_request_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* spdk_jsonrpc_handle_request_fn) (struct spdk_jsonrpc_request *request, const struct <a class="el" href="structspdk__json__val.html">spdk_json_val</a> *method, const struct <a class="el" href="structspdk__json__val.html">spdk_json_val</a> *params)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User callback to handle a single JSON-RPC request. </p>
<p>The user should respond by calling one of <a class="el" href="#a3a1e9cd8198bfac34362325ee2098dfd" title="Begin building a response to a JSON-RPC request.">spdk_jsonrpc_begin_result()</a> or <a class="el" href="#a506661cfdfda6f549c69a6f4a988a026" title="Send an error response to a JSON-RPC request.">spdk_jsonrpc_send_error_response()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>JSON-RPC request to handle. </td></tr>
    <tr><td class="paramname">method</td><td>Function to handle the request. </td></tr>
    <tr><td class="paramname">params</td><td>Parameters passed to the function 'method'. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2ce0cf522ddb54ec40c34462b08b0251" name="a2ce0cf522ddb54ec40c34462b08b0251"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ce0cf522ddb54ec40c34462b08b0251">&#9670;&#160;</a></span>spdk_jsonrpc_begin_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spdk_json_write_ctx * spdk_jsonrpc_begin_request </td>
          <td>(</td>
          <td class="paramtype">struct spdk_jsonrpc_client_request *</td>          <td class="paramname"><span class="paramname"><em>request</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t</td>          <td class="paramname"><span class="paramname"><em>id</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begin building a JSON-RPC request. </p>
<p>If this function returns non-NULL, the user must call <a class="el" href="#a9ae1b767ebb4ad59a9c4739beea1c6f4" title="Complete a JSON-RPC request.">spdk_jsonrpc_end_request()</a> on the request after writing the desired request object to the spdk_json_write_ctx.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>JSON-RPC request. </td></tr>
    <tr><td class="paramname">id</td><td>ID index for the request. If &lt; 0 skip ID. </td></tr>
    <tr><td class="paramname">method</td><td>Name of the RPC method. If NULL caller will have to create "method" key.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>JSON write context or NULL in case of error. </dd></dl>

</div>
</div>
<a id="a3a1e9cd8198bfac34362325ee2098dfd" name="a3a1e9cd8198bfac34362325ee2098dfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a1e9cd8198bfac34362325ee2098dfd">&#9670;&#160;</a></span>spdk_jsonrpc_begin_result()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spdk_json_write_ctx * spdk_jsonrpc_begin_result </td>
          <td>(</td>
          <td class="paramtype">struct spdk_jsonrpc_request *</td>          <td class="paramname"><span class="paramname"><em>request</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begin building a response to a JSON-RPC request. </p>
<p>If this function returns non-NULL, the user must call <a class="el" href="#af3d607f5a980bf9eb793ef2b553f679a" title="Complete and send a JSON-RPC response.">spdk_jsonrpc_end_result()</a> on the request after writing the desired response object to the spdk_json_write_ctx.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>JSON-RPC request to respond to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Non-NULL pointer to JSON write context to write the response object to. </dd></dl>

</div>
</div>
<a id="ad5f5cca3e578e6eb3c0069e9662a1b79" name="ad5f5cca3e578e6eb3c0069e9662a1b79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5f5cca3e578e6eb3c0069e9662a1b79">&#9670;&#160;</a></span>spdk_jsonrpc_client_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_jsonrpc_client_close </td>
          <td>(</td>
          <td class="paramtype">struct spdk_jsonrpc_client *</td>          <td class="paramname"><span class="paramname"><em>client</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close JSON-RPC connection and free <code>client</code> object. </p>
<p>This function is not thread safe and should only be called from one thread at a time while no other threads are actively <code>client</code> object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>JSON-RPC client. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a905edc750ec7e584cd283b808ef65062" name="a905edc750ec7e584cd283b808ef65062"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a905edc750ec7e584cd283b808ef65062">&#9670;&#160;</a></span>spdk_jsonrpc_client_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spdk_jsonrpc_client * spdk_jsonrpc_client_connect </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>addr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>addr_family</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect to the specified RPC server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>RPC socket address. </td></tr>
    <tr><td class="paramname">addr_family</td><td>Protocol families of address.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>JSON-RPC client on success, NULL on failure and errno set to indicate the cause of the error. </dd></dl>

</div>
</div>
<a id="a6fb341f7a6ea07000d47b6fc2c302905" name="a6fb341f7a6ea07000d47b6fc2c302905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fb341f7a6ea07000d47b6fc2c302905">&#9670;&#160;</a></span>spdk_jsonrpc_client_create_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spdk_jsonrpc_client_request * spdk_jsonrpc_client_create_request </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create one JSON-RPC request. </p>
<p>Returned request must be passed to <code>spdk_jsonrpc_client_send_request</code> when done or to <code>spdk_jsonrpc_client_free_request</code> if discaded.</p>
<dl class="section return"><dt>Returns</dt><dd>pointer to JSON-RPC request object. </dd></dl>

</div>
</div>
<a id="a42438592f780e35892904af6be663617" name="a42438592f780e35892904af6be663617"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42438592f780e35892904af6be663617">&#9670;&#160;</a></span>spdk_jsonrpc_client_free_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_jsonrpc_client_free_request </td>
          <td>(</td>
          <td class="paramtype">struct spdk_jsonrpc_client_request *</td>          <td class="paramname"><span class="paramname"><em>req</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free one JSON-RPC request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>pointer to JSON-RPC request object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acdbb193a4b8ca1c57c2b43223165dfa6" name="acdbb193a4b8ca1c57c2b43223165dfa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdbb193a4b8ca1c57c2b43223165dfa6">&#9670;&#160;</a></span>spdk_jsonrpc_client_free_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_jsonrpc_client_free_response </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspdk__jsonrpc__client__response.html">spdk_jsonrpc_client_response</a> *</td>          <td class="paramname"><span class="paramname"><em>resp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free response object obtained from <code>spdk_jsonrpc_client_get_response</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resp</td><td>pointer to JSON RPC response object. If NULL no operation is performed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af340c1cd0f0ce8c00caac2713033f28f" name="af340c1cd0f0ce8c00caac2713033f28f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af340c1cd0f0ce8c00caac2713033f28f">&#9670;&#160;</a></span>spdk_jsonrpc_client_get_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structspdk__jsonrpc__client__response.html">spdk_jsonrpc_client_response</a> * spdk_jsonrpc_client_get_response </td>
          <td>(</td>
          <td class="paramtype">struct spdk_jsonrpc_client *</td>          <td class="paramname"><span class="paramname"><em>client</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return JSON RPC response object representing next available response from client connection. </p>
<p>Returned pointer must be freed using <code>spdk_jsonrpc_client_free_response</code> </p>
<p>This function is not thread safe and should only be called from one thread at a time while no other threads are actively <code>client</code> object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to JSON RPC response object or NULL if no response available. </dd></dl>

</div>
</div>
<a id="a27688ab4587564524fefa84abc13ad3c" name="a27688ab4587564524fefa84abc13ad3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27688ab4587564524fefa84abc13ad3c">&#9670;&#160;</a></span>spdk_jsonrpc_client_poll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_jsonrpc_client_poll </td>
          <td>(</td>
          <td class="paramtype">struct spdk_jsonrpc_client *</td>          <td class="paramname"><span class="paramname"><em>client</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>timeout</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Poll the JSON-RPC client. </p>
<p>When any response is available use <code>spdk_jsonrpc_client_get_response</code> to retrieve it.</p>
<p>This function is not thread safe and should only be called from one thread at a time while no other threads are actively <code>client</code> object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>JSON-RPC client. </td></tr>
    <tr><td class="paramname">timeout</td><td>Time in milliseconds this function will block. -1 block forever, 0 don't block.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If no error occurred, this function returns a non-negative number indicating how many ready responses can be retrieved. If an error occurred, this function returns one of the following negated errno values: -ENOTCONN - not connected yet. Try again later. -EINVAL - response is detected to be invalid. Client connection should be terminated. -ENOSPC - no space to receive another response. User need to retrieve waiting responses. -EIO - connection terminated (or other critical error). Client connection should be terminated. -ENOMEM - out of memory </dd></dl>

</div>
</div>
<a id="aaadb8c7ec1b7472b41e74c27f08494b7" name="aaadb8c7ec1b7472b41e74c27f08494b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaadb8c7ec1b7472b41e74c27f08494b7">&#9670;&#160;</a></span>spdk_jsonrpc_client_send_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_jsonrpc_client_send_request </td>
          <td>(</td>
          <td class="paramtype">struct spdk_jsonrpc_client *</td>          <td class="paramname"><span class="paramname"><em>client</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct spdk_jsonrpc_client_request *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the JSON-RPC request in JSON-RPC client. </p>
<p>Library takes ownership of the request object and will free it when done.</p>
<p>This function is not thread safe and should only be called from one thread at a time while no other threads are actively <code>client</code> object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>JSON-RPC client. </td></tr>
    <tr><td class="paramname">req</td><td>JSON-RPC request.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or negative error code. -ENOSPC - no space left to queue another request. Try again later. </dd></dl>

</div>
</div>
<a id="a7246f2742a3bebe9494defa7d305de84" name="a7246f2742a3bebe9494defa7d305de84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7246f2742a3bebe9494defa7d305de84">&#9670;&#160;</a></span>spdk_jsonrpc_conn_add_close_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_jsonrpc_conn_add_close_cb </td>
          <td>(</td>
          <td class="paramtype">struct spdk_jsonrpc_server_conn *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">spdk_jsonrpc_conn_closed_fn</td>          <td class="paramname"><span class="paramname"><em>cb</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add callback called when connection is closed. </p>
<p>Pair of <code>cb</code> and <code>ctx</code> must be unique or error is returned. Registered callback is called only once and there is no need to call <code>spdk_jsonrpc_conn_del_close_cb</code> inside from <code>cb</code>.</p>
<dl class="section note"><dt>Note</dt><dd>Current implementation allow only one close callback per connection.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>JSON RPC server connection </td></tr>
    <tr><td class="paramname">cb</td><td>callback function </td></tr>
    <tr><td class="paramname">ctx</td><td>argument for <code>cb</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, or negated errno code: -EEXIST <code>cb</code> and <code>ctx</code> is already registered -ENOTCONN Callback can't be added because connection is closed. -ENOSPC no more space to register callback. </dd></dl>

</div>
</div>
<a id="a42f6b43bea611799dccb7ac98bb11930" name="a42f6b43bea611799dccb7ac98bb11930"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42f6b43bea611799dccb7ac98bb11930">&#9670;&#160;</a></span>spdk_jsonrpc_conn_del_close_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_jsonrpc_conn_del_close_cb </td>
          <td>(</td>
          <td class="paramtype">struct spdk_jsonrpc_server_conn *</td>          <td class="paramname"><span class="paramname"><em>conn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">spdk_jsonrpc_conn_closed_fn</td>          <td class="paramname"><span class="paramname"><em>cb</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove registered close callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>JSON RPC server connection </td></tr>
    <tr><td class="paramname">cb</td><td>callback function </td></tr>
    <tr><td class="paramname">ctx</td><td>argument for <code>cb</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, or negated errno code: -ENOENT <code>cb</code> and <code>ctx</code> pair is not registered </dd></dl>

</div>
</div>
<a id="a9ae1b767ebb4ad59a9c4739beea1c6f4" name="a9ae1b767ebb4ad59a9c4739beea1c6f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ae1b767ebb4ad59a9c4739beea1c6f4">&#9670;&#160;</a></span>spdk_jsonrpc_end_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_jsonrpc_end_request </td>
          <td>(</td>
          <td class="paramtype">struct spdk_jsonrpc_client_request *</td>          <td class="paramname"><span class="paramname"><em>request</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct spdk_json_write_ctx *</td>          <td class="paramname"><span class="paramname"><em>w</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Complete a JSON-RPC request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>JSON-RPC request. </td></tr>
    <tr><td class="paramname">w</td><td>JSON write context returned from <a class="el" href="#a2ce0cf522ddb54ec40c34462b08b0251" title="Begin building a JSON-RPC request.">spdk_jsonrpc_begin_request()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af3d607f5a980bf9eb793ef2b553f679a" name="af3d607f5a980bf9eb793ef2b553f679a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3d607f5a980bf9eb793ef2b553f679a">&#9670;&#160;</a></span>spdk_jsonrpc_end_result()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_jsonrpc_end_result </td>
          <td>(</td>
          <td class="paramtype">struct spdk_jsonrpc_request *</td>          <td class="paramname"><span class="paramname"><em>request</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct spdk_json_write_ctx *</td>          <td class="paramname"><span class="paramname"><em>w</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Complete and send a JSON-RPC response. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>Request to complete the response for. </td></tr>
    <tr><td class="paramname">w</td><td>JSON write context returned from <a class="el" href="#a3a1e9cd8198bfac34362325ee2098dfd" title="Begin building a response to a JSON-RPC request.">spdk_jsonrpc_begin_result()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3b83324df0f2cdc7c269b16918d72d71" name="a3b83324df0f2cdc7c269b16918d72d71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b83324df0f2cdc7c269b16918d72d71">&#9670;&#160;</a></span>spdk_jsonrpc_get_conn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spdk_jsonrpc_server_conn * spdk_jsonrpc_get_conn </td>
          <td>(</td>
          <td class="paramtype">struct spdk_jsonrpc_request *</td>          <td class="paramname"><span class="paramname"><em>request</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return connection associated to <code>request</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>JSON-RPC request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>JSON RPC server connection </dd></dl>

</div>
</div>
<a id="a27bade57c1aa87a5e962373c35ef82fc" name="a27bade57c1aa87a5e962373c35ef82fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27bade57c1aa87a5e962373c35ef82fc">&#9670;&#160;</a></span>spdk_jsonrpc_send_bool_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_jsonrpc_send_bool_response </td>
          <td>(</td>
          <td class="paramtype">struct spdk_jsonrpc_request *</td>          <td class="paramname"><span class="paramname"><em>request</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Complete a JSON-RPC response and write bool result. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>Request to complete the response for. </td></tr>
    <tr><td class="paramname">value</td><td>Write bool result value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a506661cfdfda6f549c69a6f4a988a026" name="a506661cfdfda6f549c69a6f4a988a026"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a506661cfdfda6f549c69a6f4a988a026">&#9670;&#160;</a></span>spdk_jsonrpc_send_error_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_jsonrpc_send_error_response </td>
          <td>(</td>
          <td class="paramtype">struct spdk_jsonrpc_request *</td>          <td class="paramname"><span class="paramname"><em>request</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>error_code</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an error response to a JSON-RPC request. </p>
<p>This is shorthand for <a class="el" href="#a3a1e9cd8198bfac34362325ee2098dfd" title="Begin building a response to a JSON-RPC request.">spdk_jsonrpc_begin_result()</a> + <a class="el" href="#af3d607f5a980bf9eb793ef2b553f679a" title="Complete and send a JSON-RPC response.">spdk_jsonrpc_end_result()</a> with an error object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>JSON-RPC request to respond to. </td></tr>
    <tr><td class="paramname">error_code</td><td>Integer error code to return (may be one of the SPDK_JSONRPC_ERROR_ errors, or a custom error code). </td></tr>
    <tr><td class="paramname">msg</td><td>String error message to return. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae7d1dc3ef99ed408859d9a5f6802ad65" name="ae7d1dc3ef99ed408859d9a5f6802ad65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7d1dc3ef99ed408859d9a5f6802ad65">&#9670;&#160;</a></span>spdk_jsonrpc_send_error_response_fmt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_jsonrpc_send_error_response_fmt </td>
          <td>(</td>
          <td class="paramtype">struct spdk_jsonrpc_request *</td>          <td class="paramname"><span class="paramname"><em>request</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>error_code</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>fmt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an error response to a JSON-RPC request. </p>
<p>This is shorthand for printf() + <a class="el" href="#a506661cfdfda6f549c69a6f4a988a026" title="Send an error response to a JSON-RPC request.">spdk_jsonrpc_send_error_response()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>JSON-RPC request to respond to. </td></tr>
    <tr><td class="paramname">error_code</td><td>Integer error code to return (may be one of the SPDK_JSONRPC_ERROR_ errors, or a custom error code). </td></tr>
    <tr><td class="paramname">fmt</td><td>Printf-like format string. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeeb31df31b1ad5b34713611ce8ca9291" name="aeeb31df31b1ad5b34713611ce8ca9291"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeb31df31b1ad5b34713611ce8ca9291">&#9670;&#160;</a></span>spdk_jsonrpc_server_listen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spdk_jsonrpc_server * spdk_jsonrpc_server_listen </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>domain</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>protocol</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *</td>          <td class="paramname"><span class="paramname"><em>listen_addr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">socklen_t</td>          <td class="paramname"><span class="paramname"><em>addrlen</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a74afccd199dde8aaebd020ac513cf819">spdk_jsonrpc_handle_request_fn</a></td>          <td class="paramname"><span class="paramname"><em>handle_request</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a JSON-RPC server listening on the required address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">domain</td><td>Socket family. </td></tr>
    <tr><td class="paramname">protocol</td><td>Protocol. </td></tr>
    <tr><td class="paramname">listen_addr</td><td>Listening address. </td></tr>
    <tr><td class="paramname">addrlen</td><td>Length of address. </td></tr>
    <tr><td class="paramname">handle_request</td><td>User callback to handle a JSON-RPC request.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the JSON-RPC server. </dd></dl>

</div>
</div>
<a id="ab91b6125cbea0661bdfa87400b6c3020" name="ab91b6125cbea0661bdfa87400b6c3020"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab91b6125cbea0661bdfa87400b6c3020">&#9670;&#160;</a></span>spdk_jsonrpc_server_poll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_jsonrpc_server_poll </td>
          <td>(</td>
          <td class="paramtype">struct spdk_jsonrpc_server *</td>          <td class="paramname"><span class="paramname"><em>server</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Poll the requests to the JSON-RPC server. </p>
<p>This function does accept, receive, handle the requests and reply to them.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">server</td><td>JSON-RPC server.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. </dd></dl>

</div>
</div>
<a id="aa7d4f7ed2234b0cd20e3c87685030b2f" name="aa7d4f7ed2234b0cd20e3c87685030b2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7d4f7ed2234b0cd20e3c87685030b2f">&#9670;&#160;</a></span>spdk_jsonrpc_server_shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_jsonrpc_server_shutdown </td>
          <td>(</td>
          <td class="paramtype">struct spdk_jsonrpc_server *</td>          <td class="paramname"><span class="paramname"><em>server</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shutdown the JSON-RPC server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">server</td><td>JSON-RPC server. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4839d55c5da4ce5929a08a5d2f35e4bf" name="a4839d55c5da4ce5929a08a5d2f35e4bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4839d55c5da4ce5929a08a5d2f35e4bf">&#9670;&#160;</a></span>spdk_jsonrpc_set_log_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_jsonrpc_set_log_file </td>
          <td>(</td>
          <td class="paramtype">FILE *</td>          <td class="paramname"><span class="paramname"><em>file</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the log file used by the JSON-RPC server to log RPC request and response objects. </p>
<p>NOTE: This function should be called only before starting the JSON-RPC server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Log file pointer used to log RPC objects. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab3bbeff8c3dd1d8f4e48aa33036eb215" name="ab3bbeff8c3dd1d8f4e48aa33036eb215"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3bbeff8c3dd1d8f4e48aa33036eb215">&#9670;&#160;</a></span>spdk_jsonrpc_set_log_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_jsonrpc_set_log_level </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="log_8h.html#a188d351bd05093cba1d8594ee9988efd">spdk_log_level</a></td>          <td class="paramname"><span class="paramname"><em>level</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the log level used by the JSON-RPC server to log RPC request and response objects. </p>
<p>NOTE: This function should be called only before starting the JSON-RPC server. Users should set the level set by this function higher than the level set by <a class="el" href="log_8h.html#ab34f1c87d98113395ab04415dbee96d8" title="Set the current log level threshold for printing to stderr.">spdk_log_set_print_level()</a> or <a class="el" href="log_8h.html#a422b7a65819b43157a4771be78f544ee" title="Set the log level threshold to log messages.">spdk_log_set_level()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>Log level used to log RPC objects. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
<ul>
        <li class="footer">Generated by
        <a href="http://www.doxygen.org/index.html">doxygen</a> 1.10.0 </li>
</ul>
</div>
</div>
</body>
</html>
