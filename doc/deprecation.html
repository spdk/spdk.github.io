<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="Doxygen 1.10.0" />
	<title>SPDK: Deprecation</title>
	<script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.8/umd/popper.min.js" integrity="sha512-TPh2Oxlg1zp+kz3nFA0C5vVC6leG/6mm1z9+mA81MI5eaUVqasPLO8Cuk4gMF4gUfP5etR73rgU/8PNMsSesoQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
	<script type="text/javascript" src="../js/doxyboot.js"></script>
	<script type="text/javascript">
		$( document ).ready(function() {
			$("#cn_lang_btn").remove();
		});
	</script>
	<script type="text/javascript" src="./navtree.js"></script>
	<link rel="stylesheet" href='https://fonts.googleapis.com/css?family=Roboto:400,900' type='text/css'>
	<link href="../css/bootstrap.min.css" rel="stylesheet" type="text/css">
	<link href="../css/spdk.css" rel="stylesheet" type="text/css">
</head>
  <body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark px-2">
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="/" aria-label="SPDK">
    <img src="../img/spdk.svg"  width="36" height="36" alt="Storage Performance Development Kit" />
  </a>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <div class="navbar-nav me-auto">
      <a class="nav-link header-link"
      href="../releases/">
        download
      </a>
      <a class="nav-link header-link active text-white"
      href="/doc/">
        documentation
      </a>
      <a class="nav-link header-link"
      href="../development/">
        development
      </a>
      <a class="nav-link header-link"
      href="/ci/">
        CI status
      </a>
      <a class="nav-link header-link"
      href="../community/">
        community
      </a>
      <a class="nav-link header-link"
      href="../blog/">
        Blog
      </a>
      <a class="nav-link header-link"
      href="https://github.com/orgs/spdk/projects/5">
        Roadmap
      </a>
      <a class="nav-link header-link"
      href="../news/">
        News
      </a>
    </div>
    <div class="navbar-nav ms-auto me-3">
      <a class="nav-link header-link" href="https://github.com/spdk/spdk">
        <svg xmlns="http://www.w3.org/2000/svg" class="navbar-nav-svg"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
      </a>
      <a id="cn_lang_btn" href="/cn/doc/" class="nav-link header-link">中文</a>
    </div>
  </div>
</nav>
  <div class="container-fluid doc">
      <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('deprecation.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Deprecation</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_deprecation"></a> </p><h1>ABI and API Deprecation</h1>
<p>This document details the policy for maintaining stability of SPDK ABI and API.</p>
<p>Major ABI version can change at most once for each SPDK release. ABI versions are managed separately for each library and follow <a href="https://semver.org/">Semantic Versioning</a>.</p>
<p>API and ABI deprecation notices shall be posted in the next section. Each entry must describe what will be removed and can suggest the future use or alternative. Specific future SPDK release for the removal must be provided. ABI cannot be removed without providing deprecation notice for at least single SPDK release.</p>
<p>Deprecated code paths must be registered with <code>SPDK_LOG_DEPRECATION_REGISTER()</code> and logged with <code>SPDK_LOG_DEPRECATED()</code>. The tag used with these macros will appear in the SPDK log at the warn level when <code>SPDK_LOG_DEPRECATED()</code> is called, subject to rate limits. The tags can be matched with the level 4 headers below.</p>
<h1>Deprecation Notices</h1>
<h2>bdev</h2>
<h3><code>bdev_get_iostat</code></h3>
<p><code>--name</code> option will be removed in the 26.05 release. <code>--names</code> option should be used instead, it allows providing array of devices names to obtain statistics from.</p>
<h3><code>spdk_bdev_initialize</code>, <code>spdk_bdev_finish</code>, <code>spdk_bdev_unregister</code>, <code>spdk_bdev_unregister_by_name</code></h3>
<p>Calling these functions from any thread is deprecated and will be disallowed in v26.05. These functions should be called from the SPDK app thread.</p>
<h2>scripts/rpc</h2>
<p>Use of underscores instead of dashes in RPCs is deprecated and will be removed in 26.05 release</p>
<h2>python/cli</h2>
<h3><code>framework_monitor_context_switch</code></h3>
<p>deprecate <code>--enable</code> and <code>--disable</code> in favor of single <code>--monitor/--no-monitor</code> option</p>
<h3><code>bdev_set_options</code></h3>
<p>deprecate <code>--enable-auto-examine</code> and <code>--disable-auto-examine</code> in favor of single <code>--auto-examine/--no-auto-examine</code> option deprecate <code>--enable-rdma-umr-per-io</code> and <code>--disable-rdma-umr-per-io</code> in favor of single <code>--rdma-umr-per-io/--no-rdma-umr-per-io</code> option</p>
<h3><code>bdev_nvme_set_hotplug</code></h3>
<p>deprecate <code>--enable</code> and <code>--disable</code> in favor of single <code>--hotplug/--no-hotplug</code> option</p>
<h3><code>bdev_enable_histogram</code></h3>
<p>deprecate <code>--enable</code> and <code>--disable</code> in favor of single <code>--histogram/--no-histogram</code> option</p>
<h3><code>fsdev_aio_create</code></h3>
<p>deprecate <code>--enable-xattr</code> and <code>--disable-xattr</code> in favor of single <code>--xattr/--no-xattr</code> option deprecate <code>--enable-writeback-cache</code> and <code>--disable-writeback-cache</code> in favor of single <code>--writeback-cache/--no-writeback-cache</code> option</p>
<h3><code>iscsi_enable_histogram</code></h3>
<p>deprecate <code>--enable</code> and <code>--disable</code> in favor of single <code>--histogram/--no-histogram</code> option</p>
<h3><code>log_enable_timestamps</code></h3>
<p>deprecate <code>--enable</code> and <code>--disable</code> in favor of single <code>--timestamps/--no-timestamps</code> option</p>
<h3><code>nvmf_subsystem_allow_any_host</code></h3>
<p>deprecate <code>--enable</code> and <code>--disable</code> in favor of single <code>--allow-any-host/--no-allow-any-host</code> option</p>
<h3><code>sock_impl_set_options</code></h3>
<p>deprecate <code>--enable-recv-pipe</code> and <code>--disable-recv-pipe</code> in favor of single <code>--recv-pipe/--no-recv-pipe</code> option deprecate <code>--enable-quickack</code> and <code>--disable-quickack</code> in favor of single <code>--quickack/--no-quickack</code> option deprecate <code>--enable-zerocopy-send-server</code> and <code>--disable-zerocopy-send-server</code> in favor of single <code>--zerocopy-send-server/--no-zerocopy-send-server</code> option deprecate <code>--enable-zerocopy-send-client</code> and <code>--disable-zerocopy-send-client</code> in favor of single <code>--zerocopy-send-client/--no-zerocopy-send-client</code> option deprecate <code>--enable-ktls</code> and <code>--disable-ktls</code> in favor of single <code>--ktls/--no-ktls</code> option</p>
<h3><code>bdev_virtio_blk_set_hotplug</code></h3>
<p>deprecate <code>--enable</code> and <code>--disable</code> in favor of single <code>--hotplug/--no-hotplug</code> option</p>
<h2>util/net</h2>
<h3><code>spdk_net_getaddr</code></h3>
<p>Returning -1 and setting errno on this function is deprecated and will be changed in the 26.01 release. This function will return negative errno values instead.</p>
<h2>sock</h2>
<h3><code>spdk_sock_\*</code></h3>
<p><code>spdk_sock_getaddr</code>, <code>spdk_sock_close</code>, <code>spdk_sock_flush</code>, <code>spdk_sock_recv</code>, <code>spdk_sock_writev</code>, <code>spdk_sock_readv</code>, <code>spdk_sock_recv_next</code>, <code>spdk_sock_set_recvlowat</code>, <code>spdk_sock_set_recvbuf</code>, <code>spdk_sock_set_sendbuf</code>, <code>spdk_sock_group_add_sock</code>, <code>spdk_sock_group_remove_sock</code>, <code>spdk_sock_group_provide_buf</code>, <code>spdk_sock_group_poll</code>, <code>spdk_sock_group_poll_count</code>, <code>spdk_sock_group_close</code>, <code>spdk_sock_impl_get_opts</code>, <code>spdk_sock_impl_set_opts</code>, <code>spdk_sock_set_default_impl</code>, <code>spdk_sock_group_register_interrupt</code></p>
<p>Returning -1 and setting errno on these functions is deprecated and will be changed in the 26.01 release. These functions will return negative errno values instead.</p>
<h2>gpt</h2>
<h3><code>old_gpt_guid</code></h3>
<p>Deprecated the SPDK partition type GUID <code>7c5222bd-8f5d-4087-9c00-bf9843c7b58c</code>. Partitions of this type have bdevs created that are one block less than the actual size of the partition. Existing partitions using the deprecated GUID can continue to use that GUID; support for the deprecated GUID will remain in SPDK indefinitely, and will continue to exhibit the off-by-one bug so that on-disk metadata layouts based on the incorrect size are not affected.</p>
<p>See GitHub issue <a href="https://github.com/spdk/spdk/issues/2801">2801</a> for additional details on the bug.</p>
<p>New SPDK partition types should use GUID <code>6527994e-2c5a-4eec-9613-8f5944074e8b</code> which will create a bdev of the correct size.</p>
<h2>nvme</h2>
<h3><a class="el" href="nvme__spec_8h.html" title="NVMe specification definitions.">nvme_spec.h</a></h3>
<p><code><a class="el" href="structspdk__nvme__ctrlr__data.html">spdk_nvme_ctrlr_data</a></code>, <code><a class="el" href="structspdk__nvme__cdata__oacs.html">spdk_nvme_cdata_oacs</a></code></p>
<p>LPA and OACS bits are updated to NVMe 2.2 definitions. The old bit names will be removed in 26.05 release.</p>
<p><code><a class="el" href="structspdk__nvme__ns__data.html">spdk_nvme_ns_data</a></code></p>
<p>NMIC, RESCAP, FPI and NSATTR bits are updated to NVMe 2.2 definitions. The old bit names will be removed in 26.05 release. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
<ul>
        <li class="footer">Generated by
        <a href="http://www.doxygen.org/index.html">doxygen</a> 1.10.0 </li>
</ul>
</div>
</div>
</body>
</html>
