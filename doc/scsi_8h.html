<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- For Mobile Devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8">
  <meta name="generator" content="Doxygen 1.8.13">
  <title>SPDK: scsi.h File Reference</title>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,900" type="text/css">
  <link href="../css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="tabs.css" type="text/css">
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div class="container-fluid">
  <div id="top">  <!-- do not remove this div, it is closed by doxygen! -->
    <div class="row no-gutters">
      <div class="col-sm-12">
        <section id="nav">
          <div class="navbar navbar-default navbar-static-top banner-tabs">
            <ul class="nav navbar-nav">
              <li role="presentation">
                <a href="http://www.spdk.io/">
                  <i class="glyphicon glyphicon-home"></i>
                  <span class="box-name">home</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/releases/">
                  <i class="glyphicon glyphicon-download-alt"></i>
                  <span class="box-name">download</span>
                </a>
              </li>
              <li class="active" role="presentation">
                <a href="index.html">
                  <i class="glyphicon glyphicon-book"></i>
                  <span class="box-name">documentation</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/development/">
                  <i class="glyphicon glyphicon-wrench"></i>
                  <span class="box-name">development</span>
                </a>
              </li>
              <li role="presentation">
                <a href="https://ci.spdk.io/status/">
                  <i class="glyphicon glyphicon-ok"></i>
                  <span class="box-name">CI status</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/community/">
                  <i class="glyphicon glyphicon-envelope"></i>
                  <span class="box-name">community</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/blog/">
                  <i class="glyphicon glyphicon-comment"></i>
                  <span class="box-name">Blog</span>
                </a>
              </li>
              <li role="presentation">
                <a href="https://github.com/spdk/spdk/wiki/Roadmap">
                  <i class="glyphicon glyphicon-map-marker"></i>
                  <span class="box-name">Roadmap</span>
                </a>
              </li>
              <li role="presentation">
                <a href="https://github.com/spdk/spdk/wiki/News">
                  <i class="glyphicon glyphicon-bullhorn"></i>
                  <span class="box-name">News</span>
                </a>
              </li>
            </ul>
          </div>
        </section>
      </div>
    </div>
<!-- Generated by Doxygen 1.8.13 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_67fbcc0b4317645100def1406b508c33.html">spdk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">scsi.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>SCSI to bdev translation layer.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a44856a35a6e672ad81d9a687b014531d"><td class="memItemLeft" align="right" valign="top"><a id="a44856a35a6e672ad81d9a687b014531d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OWNER_SCSI_DEV</b>&#160;&#160;&#160;0x10</td></tr>
<tr class="separator:a44856a35a6e672ad81d9a687b014531d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e162907071183419a1339c6db1a1fc7"><td class="memItemLeft" align="right" valign="top"><a id="a9e162907071183419a1339c6db1a1fc7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OBJECT_SCSI_TASK</b>&#160;&#160;&#160;0x10</td></tr>
<tr class="separator:a9e162907071183419a1339c6db1a1fc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1ffd733b3e8f89e960f7f2b7ad25e63"><td class="memItemLeft" align="right" valign="top"><a id="aa1ffd733b3e8f89e960f7f2b7ad25e63"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRACE_GROUP_SCSI</b>&#160;&#160;&#160;0x2</td></tr>
<tr class="separator:aa1ffd733b3e8f89e960f7f2b7ad25e63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accba3d0cbde94aca1cc9171f1ee6a9d4"><td class="memItemLeft" align="right" valign="top"><a id="accba3d0cbde94aca1cc9171f1ee6a9d4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRACE_SCSI_TASK_DONE</b>&#160;&#160;&#160;SPDK_TPOINT_ID(TRACE_GROUP_SCSI, 0x0)</td></tr>
<tr class="separator:accba3d0cbde94aca1cc9171f1ee6a9d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad846e70848fc9833f13b9db5a948bf97"><td class="memItemLeft" align="right" valign="top"><a id="ad846e70848fc9833f13b9db5a948bf97"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRACE_SCSI_TASK_START</b>&#160;&#160;&#160;SPDK_TPOINT_ID(TRACE_GROUP_SCSI, 0x1)</td></tr>
<tr class="separator:ad846e70848fc9833f13b9db5a948bf97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a419c81abcd5a50c723a50017a80cc54d"><td class="memItemLeft" align="right" valign="top"><a id="a419c81abcd5a50c723a50017a80cc54d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPDK_SCSI_MAX_DEVS</b>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:a419c81abcd5a50c723a50017a80cc54d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11182f2e47a6b24879d45a67782993f5"><td class="memItemLeft" align="right" valign="top"><a id="a11182f2e47a6b24879d45a67782993f5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPDK_SCSI_DEV_MAX_LUN</b>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a11182f2e47a6b24879d45a67782993f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefe9aa50e6b46aa920d4d235a8b70eee"><td class="memItemLeft" align="right" valign="top"><a id="aefe9aa50e6b46aa920d4d235a8b70eee"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPDK_SCSI_DEV_MAX_PORTS</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:aefe9aa50e6b46aa920d4d235a8b70eee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af44575766cbcd21524011e26d0ed3204"><td class="memItemLeft" align="right" valign="top"><a id="af44575766cbcd21524011e26d0ed3204"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPDK_SCSI_DEV_MAX_NAME</b>&#160;&#160;&#160;255</td></tr>
<tr class="separator:af44575766cbcd21524011e26d0ed3204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1872fadcd12aeba9e638ea456d7eef7"><td class="memItemLeft" align="right" valign="top"><a id="af1872fadcd12aeba9e638ea456d7eef7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPDK_SCSI_PORT_MAX_NAME_LENGTH</b>&#160;&#160;&#160;255</td></tr>
<tr class="separator:af1872fadcd12aeba9e638ea456d7eef7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8163afb0c2a1176fdf63852000b888f3"><td class="memItemLeft" align="right" valign="top"><a id="a8163afb0c2a1176fdf63852000b888f3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPDK_SCSI_LUN_MAX_NAME_LENGTH</b>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a8163afb0c2a1176fdf63852000b888f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a6c7f236447411d51180d5851c746226e"><td class="memItemLeft" align="right" valign="top"><a id="a6c7f236447411d51180d5851c746226e"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_task_cpl</b>) (struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *task)</td></tr>
<tr class="separator:a6c7f236447411d51180d5851c746226e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7856634e87e00a42fed826302cdfafa0"><td class="memItemLeft" align="right" valign="top"><a id="a7856634e87e00a42fed826302cdfafa0"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_task_free</b>) (struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *task)</td></tr>
<tr class="separator:a7856634e87e00a42fed826302cdfafa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ad8c6f561cb327d26f0e73a3d3c4512f5"><td class="memItemLeft" align="right" valign="top"><a id="ad8c6f561cb327d26f0e73a3d3c4512f5"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_data_dir</b> { <b>SPDK_SCSI_DIR_NONE</b> = 0, 
<b>SPDK_SCSI_DIR_TO_DEV</b> = 1, 
<b>SPDK_SCSI_DIR_FROM_DEV</b> = 2
 }</td></tr>
<tr class="separator:ad8c6f561cb327d26f0e73a3d3c4512f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec3a195e1d7cb115da1d09833983db5c"><td class="memItemLeft" align="right" valign="top"><a id="aec3a195e1d7cb115da1d09833983db5c"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_task_func</b> { <b>SPDK_SCSI_TASK_FUNC_ABORT_TASK</b> = 0, 
<b>SPDK_SCSI_TASK_FUNC_ABORT_TASK_SET</b>, 
<b>SPDK_SCSI_TASK_FUNC_CLEAR_TASK_SET</b>, 
<b>SPDK_SCSI_TASK_FUNC_LUN_RESET</b>
 }</td></tr>
<tr class="separator:aec3a195e1d7cb115da1d09833983db5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c7f47e943239407061a2b5bc7f804b3"><td class="memItemLeft" align="right" valign="top"><a id="a5c7f47e943239407061a2b5bc7f804b3"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_task_mgmt_resp</b> { <br />
&#160;&#160;<b>SPDK_SCSI_TASK_MGMT_RESP_COMPLETE</b>, 
<b>SPDK_SCSI_TASK_MGMT_RESP_SUCCESS</b>, 
<b>SPDK_SCSI_TASK_MGMT_RESP_REJECT</b>, 
<b>SPDK_SCSI_TASK_MGMT_RESP_INVALID_LUN</b>, 
<br />
&#160;&#160;<b>SPDK_SCSI_TASK_MGMT_RESP_TARGET_FAILURE</b>, 
<b>SPDK_SCSI_TASK_MGMT_RESP_REJECT_FUNC_NOT_SUPPORTED</b>
<br />
 }</td></tr>
<tr class="separator:a5c7f47e943239407061a2b5bc7f804b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af52237ab22ab5e1181b17be38f66fa7f"><td class="memItemLeft" align="right" valign="top"><a id="af52237ab22ab5e1181b17be38f66fa7f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_init</b> (void)</td></tr>
<tr class="separator:af52237ab22ab5e1181b17be38f66fa7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88507b777b62e2000bce672a624b6039"><td class="memItemLeft" align="right" valign="top"><a id="a88507b777b62e2000bce672a624b6039"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_fini</b> (void)</td></tr>
<tr class="separator:a88507b777b62e2000bce672a624b6039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5ed1a133f6f137402c0eb7742077f17"><td class="memItemLeft" align="right" valign="top"><a id="af5ed1a133f6f137402c0eb7742077f17"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_lun_get_id</b> (const struct spdk_scsi_lun *lun)</td></tr>
<tr class="separator:af5ed1a133f6f137402c0eb7742077f17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f187c3c7c7e26d4045061446a6597bd"><td class="memItemLeft" align="right" valign="top"><a id="a6f187c3c7c7e26d4045061446a6597bd"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_lun_get_name</b> (const struct spdk_scsi_lun *lun)</td></tr>
<tr class="separator:a6f187c3c7c7e26d4045061446a6597bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa87d45ae3bcf47ffa2db2ff3cf51ae21"><td class="memItemLeft" align="right" valign="top"><a id="aa87d45ae3bcf47ffa2db2ff3cf51ae21"></a>
const struct spdk_scsi_dev *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_lun_get_dev</b> (const struct spdk_scsi_lun *lun)</td></tr>
<tr class="separator:aa87d45ae3bcf47ffa2db2ff3cf51ae21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e92c13ec584430c7fb2ace1f84d4022"><td class="memItemLeft" align="right" valign="top"><a id="a6e92c13ec584430c7fb2ace1f84d4022"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_dev_get_name</b> (const struct spdk_scsi_dev *dev)</td></tr>
<tr class="separator:a6e92c13ec584430c7fb2ace1f84d4022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa53c0ae5af6584eb19cfcc75799dfce8"><td class="memItemLeft" align="right" valign="top"><a id="aa53c0ae5af6584eb19cfcc75799dfce8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_dev_get_id</b> (const struct spdk_scsi_dev *dev)</td></tr>
<tr class="separator:aa53c0ae5af6584eb19cfcc75799dfce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5c7ed714025d329dc2a69fad041158f"><td class="memItemLeft" align="right" valign="top"><a id="ab5c7ed714025d329dc2a69fad041158f"></a>
struct spdk_scsi_lun *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_dev_get_lun</b> (struct spdk_scsi_dev *dev, int lun_id)</td></tr>
<tr class="separator:ab5c7ed714025d329dc2a69fad041158f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5438b53e8e2b7efdfcf8af756e23320b"><td class="memItemLeft" align="right" valign="top"><a id="a5438b53e8e2b7efdfcf8af756e23320b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_dev_has_pending_tasks</b> (const struct spdk_scsi_dev *dev)</td></tr>
<tr class="separator:a5438b53e8e2b7efdfcf8af756e23320b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1422193a59bf618ebd6c5415af1cc2be"><td class="memItemLeft" align="right" valign="top"><a id="a1422193a59bf618ebd6c5415af1cc2be"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_dev_destruct</b> (struct spdk_scsi_dev *dev)</td></tr>
<tr class="separator:a1422193a59bf618ebd6c5415af1cc2be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a340a3b96240ec9fdcf1228323d62ef8f"><td class="memItemLeft" align="right" valign="top"><a id="a340a3b96240ec9fdcf1228323d62ef8f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_dev_queue_mgmt_task</b> (struct spdk_scsi_dev *dev, struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *task, enum spdk_scsi_task_func func)</td></tr>
<tr class="separator:a340a3b96240ec9fdcf1228323d62ef8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a715f198c4f072642eb951ecdddb0e624"><td class="memItemLeft" align="right" valign="top"><a id="a715f198c4f072642eb951ecdddb0e624"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_dev_queue_task</b> (struct spdk_scsi_dev *dev, struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *task)</td></tr>
<tr class="separator:a715f198c4f072642eb951ecdddb0e624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c5b012a7e8efabf6a08690cf8d6cc3b"><td class="memItemLeft" align="right" valign="top"><a id="a7c5b012a7e8efabf6a08690cf8d6cc3b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_dev_add_port</b> (struct spdk_scsi_dev *dev, uint64_t id, const char *name)</td></tr>
<tr class="separator:a7c5b012a7e8efabf6a08690cf8d6cc3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98f6ae13fd1e081d4332f3a4af91bff3"><td class="memItemLeft" align="right" valign="top"><a id="a98f6ae13fd1e081d4332f3a4af91bff3"></a>
struct spdk_scsi_port *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_dev_find_port_by_id</b> (struct spdk_scsi_dev *dev, uint64_t id)</td></tr>
<tr class="separator:a98f6ae13fd1e081d4332f3a4af91bff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace13313034d5c08e11d65f12c91d2a68"><td class="memItemLeft" align="right" valign="top"><a id="ace13313034d5c08e11d65f12c91d2a68"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_dev_print</b> (struct spdk_scsi_dev *dev)</td></tr>
<tr class="separator:ace13313034d5c08e11d65f12c91d2a68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b0b6fb0de39e57cbfca41ee8e33618f"><td class="memItemLeft" align="right" valign="top"><a id="a2b0b6fb0de39e57cbfca41ee8e33618f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_dev_allocate_io_channels</b> (struct spdk_scsi_dev *dev)</td></tr>
<tr class="separator:a2b0b6fb0de39e57cbfca41ee8e33618f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09579688597a2ab594671a00b20fd2cd"><td class="memItemLeft" align="right" valign="top"><a id="a09579688597a2ab594671a00b20fd2cd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_dev_free_io_channels</b> (struct spdk_scsi_dev *dev)</td></tr>
<tr class="separator:a09579688597a2ab594671a00b20fd2cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a023a0849997c21508fe1285b003e2a52"><td class="memItemLeft" align="right" valign="top">struct spdk_scsi_dev *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scsi_8h.html#a023a0849997c21508fe1285b003e2a52">spdk_scsi_dev_construct</a> (const char *name, char *lun_name_list[], int *lun_id_list, int num_luns, uint8_t protocol_id, void(*hotremove_cb)(const struct spdk_scsi_lun *, void *), void *hotremove_ctx)</td></tr>
<tr class="memdesc:a023a0849997c21508fe1285b003e2a52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a SCSI device object using the given parameters.  <a href="#a023a0849997c21508fe1285b003e2a52">More...</a><br /></td></tr>
<tr class="separator:a023a0849997c21508fe1285b003e2a52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbacc6adf74a9790630dedda8b97940e"><td class="memItemLeft" align="right" valign="top"><a id="abbacc6adf74a9790630dedda8b97940e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_dev_delete_lun</b> (struct spdk_scsi_dev *dev, struct spdk_scsi_lun *lun)</td></tr>
<tr class="separator:abbacc6adf74a9790630dedda8b97940e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a295b1a0566c6b1dc9f5245724cb68179"><td class="memItemLeft" align="right" valign="top"><a id="a295b1a0566c6b1dc9f5245724cb68179"></a>
struct spdk_scsi_port *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_port_create</b> (uint64_t id, uint16_t index, const char *name)</td></tr>
<tr class="separator:a295b1a0566c6b1dc9f5245724cb68179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4879e8ff64fa53ade495996347a10723"><td class="memItemLeft" align="right" valign="top"><a id="a4879e8ff64fa53ade495996347a10723"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_port_free</b> (struct spdk_scsi_port **pport)</td></tr>
<tr class="separator:a4879e8ff64fa53ade495996347a10723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae44f357c4cfc7d60c8fce30c39c637b6"><td class="memItemLeft" align="right" valign="top"><a id="ae44f357c4cfc7d60c8fce30c39c637b6"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_port_get_name</b> (const struct spdk_scsi_port *port)</td></tr>
<tr class="separator:ae44f357c4cfc7d60c8fce30c39c637b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fda4f47e381983502f3619cc2642822"><td class="memItemLeft" align="right" valign="top"><a id="a6fda4f47e381983502f3619cc2642822"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_task_construct</b> (struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *task, spdk_scsi_task_cpl cpl_fn, spdk_scsi_task_free free_fn, struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *parent)</td></tr>
<tr class="separator:a6fda4f47e381983502f3619cc2642822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0fc6066d5a615661c85be595a276ed9"><td class="memItemLeft" align="right" valign="top"><a id="ab0fc6066d5a615661c85be595a276ed9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_task_put</b> (struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *task)</td></tr>
<tr class="separator:ab0fc6066d5a615661c85be595a276ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2a33d28e17eec1095b852e2c93fab0"><td class="memItemLeft" align="right" valign="top"><a id="afe2a33d28e17eec1095b852e2c93fab0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_task_free_data</b> (struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *task)</td></tr>
<tr class="separator:afe2a33d28e17eec1095b852e2c93fab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afecbfa80c61a820eea16b1fb9d40ddcf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scsi_8h.html#afecbfa80c61a820eea16b1fb9d40ddcf">spdk_scsi_task_set_data</a> (struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *task, void *data, uint32_t len)</td></tr>
<tr class="memdesc:afecbfa80c61a820eea16b1fb9d40ddcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set internal buffer to given one.  <a href="#afecbfa80c61a820eea16b1fb9d40ddcf">More...</a><br /></td></tr>
<tr class="separator:afecbfa80c61a820eea16b1fb9d40ddcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e63265465f997338dcad1404636174f"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scsi_8h.html#a4e63265465f997338dcad1404636174f">spdk_scsi_task_alloc_data</a> (struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *task, uint32_t alloc_len)</td></tr>
<tr class="memdesc:a4e63265465f997338dcad1404636174f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate internal buffer of requested size.  <a href="#a4e63265465f997338dcad1404636174f">More...</a><br /></td></tr>
<tr class="separator:a4e63265465f997338dcad1404636174f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ac8f6137429f32fa3506df2b92429ff"><td class="memItemLeft" align="right" valign="top"><a id="a0ac8f6137429f32fa3506df2b92429ff"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_task_scatter_data</b> (struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *task, const void *src, size_t len)</td></tr>
<tr class="separator:a0ac8f6137429f32fa3506df2b92429ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b544b39b26c17452e9b53223e9615a4"><td class="memItemLeft" align="right" valign="top"><a id="a3b544b39b26c17452e9b53223e9615a4"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_task_gather_data</b> (struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *task, int *len)</td></tr>
<tr class="separator:a3b544b39b26c17452e9b53223e9615a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b9abfb76360c093b270174c0a9943b2"><td class="memItemLeft" align="right" valign="top"><a id="a4b9abfb76360c093b270174c0a9943b2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_task_build_sense_data</b> (struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *task, int sk, int asc, int ascq)</td></tr>
<tr class="separator:a4b9abfb76360c093b270174c0a9943b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd1875e82a001234373a36cd936849ea"><td class="memItemLeft" align="right" valign="top"><a id="afd1875e82a001234373a36cd936849ea"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_task_set_status</b> (struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *task, int sc, int sk, int asc, int ascq)</td></tr>
<tr class="separator:afd1875e82a001234373a36cd936849ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a926c7488e731f9dc11ab43e28a34b4bd"><td class="memItemLeft" align="right" valign="top"><a id="a926c7488e731f9dc11ab43e28a34b4bd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_task_process_null_lun</b> (struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *task)</td></tr>
<tr class="separator:a926c7488e731f9dc11ab43e28a34b4bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bc28a98632250a91738503fc43b3e37"><td class="memItemLeft" align="right" valign="top"><a id="a9bc28a98632250a91738503fc43b3e37"></a>
static struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_scsi_task_get_primary</b> (struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *task)</td></tr>
<tr class="separator:a9bc28a98632250a91738503fc43b3e37"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>SCSI to bdev translation layer. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a023a0849997c21508fe1285b003e2a52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a023a0849997c21508fe1285b003e2a52">&#9670;&nbsp;</a></span>spdk_scsi_dev_construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spdk_scsi_dev* spdk_scsi_dev_construct </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>lun_name_list</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lun_id_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_luns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>protocol_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(const struct spdk_scsi_lun *, void *)&#160;</td>
          <td class="paramname"><em>hotremove_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hotremove_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a SCSI device object using the given parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name for the SCSI device. </td></tr>
    <tr><td class="paramname">queue_depth</td><td>Queue depth for the SCSI device. This queue depth is a combined queue depth for all LUNs in the device. </td></tr>
    <tr><td class="paramname">lun_list</td><td>List of LUN objects for the SCSI device. Caller is responsible for managing the memory containing this list. </td></tr>
    <tr><td class="paramname">lun_id_list</td><td>List of LUN IDs for the LUN in this SCSI device. Caller is responsible for managing the memory containing this list. lun_id_list[x] is the LUN ID for lun_list[x]. </td></tr>
    <tr><td class="paramname">num_luns</td><td>Number of entries in lun_list and lun_id_list. </td></tr>
    <tr><td class="paramname">hotremove_cb</td><td>Callback to lun hotremoval. Will be called once hotremove is first triggered. </td></tr>
    <tr><td class="paramname">hotremove_ctx</td><td>Additional argument to hotremove_cb </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The constructed spdk_scsi_dev object. </dd></dl>

</div>
</div>
<a id="a4e63265465f997338dcad1404636174f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e63265465f997338dcad1404636174f">&#9670;&nbsp;</a></span>spdk_scsi_task_alloc_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* spdk_scsi_task_alloc_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>alloc_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate internal buffer of requested size. </p>
<p>Caller is not owner of returned buffer and must not free it. Caller is permitted to call spdk_scsi_task_free_data() to free internal buffer if it is not required anymore, but must assert that task is done and not used by library.</p>
<p>Allocated buffer is stored in iov field of task object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>Task struct </td></tr>
    <tr><td class="paramname">alloc_len</td><td>Size of allocated buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to buffer or NULL on error. </dd></dl>

</div>
</div>
<a id="afecbfa80c61a820eea16b1fb9d40ddcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afecbfa80c61a820eea16b1fb9d40ddcf">&#9670;&nbsp;</a></span>spdk_scsi_task_set_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_scsi_task_set_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspdk__scsi__task.html">spdk_scsi_task</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set internal buffer to given one. </p>
<p>Caller is owner of that buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>Task struct </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to buffer </td></tr>
    <tr><td class="paramname">len</td><td>Buffer length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div>
