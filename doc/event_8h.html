<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- For Mobile Devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8">
  <meta name="generator" content="Doxygen 1.8.13">
  <title>SPDK: event.h File Reference</title>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,900" type="text/css">
  <link href="../css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="tabs.css" type="text/css">
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div class="container-fluid">
  <div id="top">  <!-- do not remove this div, it is closed by doxygen! -->
    <div class="row no-gutters">
      <div class="col-sm-12">
        <section id="nav">
          <div class="navbar navbar-default navbar-static-top banner-tabs">
            <ul class="nav navbar-nav">
              <li role="presentation">
                <a href="http://www.spdk.io/">
                  <i class="glyphicon glyphicon-home"></i>
                  <span class="box-name">home</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/releases/">
                  <i class="glyphicon glyphicon-download-alt"></i>
                  <span class="box-name">download</span>
                </a>
              </li>
              <li class="active" role="presentation">
                <a href="index.html">
                  <i class="glyphicon glyphicon-book"></i>
                  <span class="box-name">documentation</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/development/">
                  <i class="glyphicon glyphicon-wrench"></i>
                  <span class="box-name">development</span>
                </a>
              </li>
              <li role="presentation">
                <a href="https://ci.spdk.io/status/">
                  <i class="glyphicon glyphicon-ok"></i>
                  <span class="box-name">CI status</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/community/">
                  <i class="glyphicon glyphicon-envelope"></i>
                  <span class="box-name">community</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/blog/">
                  <i class="glyphicon glyphicon-comment"></i>
                  <span class="box-name">Blog</span>
                </a>
              </li>
              <li role="presentation">
                <a href="https://github.com/spdk/spdk/wiki/Roadmap">
                  <i class="glyphicon glyphicon-map-marker"></i>
                  <span class="box-name">Roadmap</span>
                </a>
              </li>
              <li role="presentation">
                <a href="https://github.com/spdk/spdk/wiki/News">
                  <i class="glyphicon glyphicon-bullhorn"></i>
                  <span class="box-name">News</span>
                </a>
              </li>
            </ul>
          </div>
        </section>
      </div>
    </div>
<!-- Generated by Doxygen 1.8.13 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_67fbcc0b4317645100def1406b508c33.html">spdk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">event.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Event framework public API.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__app__opts.html">spdk_app_opts</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event framework initialization options.  <a href="structspdk__app__opts.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a69f0f17c0f9a03840c327672df37b3bb"><td class="memItemLeft" align="right" valign="top"><a id="a69f0f17c0f9a03840c327672df37b3bb"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_event_fn</b>) (void *arg1, void *arg2)</td></tr>
<tr class="separator:a69f0f17c0f9a03840c327672df37b3bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c24df11036bbab9b09f0eb704e53343"><td class="memItemLeft" align="right" valign="top"><a id="a1c24df11036bbab9b09f0eb704e53343"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_poller_fn</b>) (void *arg)</td></tr>
<tr class="separator:a1c24df11036bbab9b09f0eb704e53343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7e98d89bfe88c7b9d9ecfc78fac2cd2"><td class="memItemLeft" align="right" valign="top"><a id="af7e98d89bfe88c7b9d9ecfc78fac2cd2"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_app_shutdown_cb</b>) (void)</td></tr>
<tr class="separator:af7e98d89bfe88c7b9d9ecfc78fac2cd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab62642ed599e28f41f234cbcb7f7ccc7"><td class="memItemLeft" align="right" valign="top"><a id="ab62642ed599e28f41f234cbcb7f7ccc7"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>spdk_sighandler_t</b>) (int)</td></tr>
<tr class="separator:ab62642ed599e28f41f234cbcb7f7ccc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2c8af9052967bf98ff65e514ec7fa276"><td class="memItemLeft" align="right" valign="top"><a id="a2c8af9052967bf98ff65e514ec7fa276"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8h.html#a2c8af9052967bf98ff65e514ec7fa276">spdk_app_opts_init</a> (struct <a class="el" href="structspdk__app__opts.html">spdk_app_opts</a> *opts)</td></tr>
<tr class="memdesc:a2c8af9052967bf98ff65e514ec7fa276"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the default value of opts. <br /></td></tr>
<tr class="separator:a2c8af9052967bf98ff65e514ec7fa276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18879873a585b21f44b7c90be8726ce1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8h.html#a18879873a585b21f44b7c90be8726ce1">spdk_app_start</a> (struct <a class="el" href="structspdk__app__opts.html">spdk_app_opts</a> *opts, spdk_event_fn start_fn, void *arg1, void *arg2)</td></tr>
<tr class="memdesc:a18879873a585b21f44b7c90be8726ce1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the framework.  <a href="#a18879873a585b21f44b7c90be8726ce1">More...</a><br /></td></tr>
<tr class="separator:a18879873a585b21f44b7c90be8726ce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09034efb3911efa02c1b260c5ef2160e"><td class="memItemLeft" align="right" valign="top"><a id="a09034efb3911efa02c1b260c5ef2160e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8h.html#a09034efb3911efa02c1b260c5ef2160e">spdk_app_fini</a> (void)</td></tr>
<tr class="memdesc:a09034efb3911efa02c1b260c5ef2160e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform final shutdown operations on an application using the event framework. <br /></td></tr>
<tr class="separator:a09034efb3911efa02c1b260c5ef2160e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bbbb23263a8ea9c93c3adf8aa3bce8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8h.html#a0bbbb23263a8ea9c93c3adf8aa3bce8e">spdk_app_start_shutdown</a> (void)</td></tr>
<tr class="memdesc:a0bbbb23263a8ea9c93c3adf8aa3bce8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start shutting down the framework.  <a href="#a0bbbb23263a8ea9c93c3adf8aa3bce8e">More...</a><br /></td></tr>
<tr class="separator:a0bbbb23263a8ea9c93c3adf8aa3bce8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40f3af1c0340f5c3eb915bc43e3cee83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8h.html#a40f3af1c0340f5c3eb915bc43e3cee83">spdk_app_stop</a> (int rc)</td></tr>
<tr class="memdesc:a40f3af1c0340f5c3eb915bc43e3cee83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the framework.  <a href="#a40f3af1c0340f5c3eb915bc43e3cee83">More...</a><br /></td></tr>
<tr class="separator:a40f3af1c0340f5c3eb915bc43e3cee83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74ff463ced05d4fab6baae4506c27f46"><td class="memItemLeft" align="right" valign="top"><a id="a74ff463ced05d4fab6baae4506c27f46"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8h.html#a74ff463ced05d4fab6baae4506c27f46">spdk_app_get_running_config</a> (char **config_str, char *name)</td></tr>
<tr class="memdesc:a74ff463ced05d4fab6baae4506c27f46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a configuration file that corresponds to the current running state. <br /></td></tr>
<tr class="separator:a74ff463ced05d4fab6baae4506c27f46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac64ac17f456e8ac388d959c2e7a4a13b"><td class="memItemLeft" align="right" valign="top"><a id="ac64ac17f456e8ac388d959c2e7a4a13b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8h.html#ac64ac17f456e8ac388d959c2e7a4a13b">spdk_app_get_shm_id</a> (void)</td></tr>
<tr class="memdesc:ac64ac17f456e8ac388d959c2e7a4a13b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the shared memory id for this application. <br /></td></tr>
<tr class="separator:ac64ac17f456e8ac388d959c2e7a4a13b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed861d180d7846cb80cdbd723968c0ff"><td class="memItemLeft" align="right" valign="top"><a id="aed861d180d7846cb80cdbd723968c0ff"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8h.html#aed861d180d7846cb80cdbd723968c0ff">spdk_app_parse_core_mask</a> (const char *mask, uint64_t *cpumask)</td></tr>
<tr class="memdesc:aed861d180d7846cb80cdbd723968c0ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a string containing a CPU core mask into a bitmask. <br /></td></tr>
<tr class="separator:aed861d180d7846cb80cdbd723968c0ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6d7881fb7ca9b842c022aab4febfbb4"><td class="memItemLeft" align="right" valign="top"><a id="aa6d7881fb7ca9b842c022aab4febfbb4"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8h.html#aa6d7881fb7ca9b842c022aab4febfbb4">spdk_app_get_core_mask</a> (void)</td></tr>
<tr class="memdesc:aa6d7881fb7ca9b842c022aab4febfbb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a mask of the CPU cores active for this application. <br /></td></tr>
<tr class="separator:aa6d7881fb7ca9b842c022aab4febfbb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9981e9474489ae175639d752589f7fa3"><td class="memItemLeft" align="right" valign="top"><a id="a9981e9474489ae175639d752589f7fa3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8h.html#a9981e9474489ae175639d752589f7fa3">spdk_app_get_core_count</a> (void)</td></tr>
<tr class="memdesc:a9981e9474489ae175639d752589f7fa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of CPU cores utilized by this application. <br /></td></tr>
<tr class="separator:a9981e9474489ae175639d752589f7fa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3634c3b00f8d358403d382c5a29946b8"><td class="memItemLeft" align="right" valign="top"><a id="a3634c3b00f8d358403d382c5a29946b8"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8h.html#a3634c3b00f8d358403d382c5a29946b8">spdk_app_get_current_core</a> (void)</td></tr>
<tr class="memdesc:a3634c3b00f8d358403d382c5a29946b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the lcore of the current thread. <br /></td></tr>
<tr class="separator:a3634c3b00f8d358403d382c5a29946b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a885e8b94b71844c94f0b380afdfa0df9"><td class="memItemLeft" align="right" valign="top"><a id="a885e8b94b71844c94f0b380afdfa0df9"></a>
struct spdk_event *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8h.html#a885e8b94b71844c94f0b380afdfa0df9">spdk_event_allocate</a> (uint32_t lcore, spdk_event_fn fn, void *arg1, void *arg2)</td></tr>
<tr class="memdesc:a885e8b94b71844c94f0b380afdfa0df9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate an event to be passed to <a class="el" href="event_8h.html#af17b7963b6a6964e5eb18480193acedb">spdk_event_call</a>. <br /></td></tr>
<tr class="separator:a885e8b94b71844c94f0b380afdfa0df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af17b7963b6a6964e5eb18480193acedb"><td class="memItemLeft" align="right" valign="top"><a id="af17b7963b6a6964e5eb18480193acedb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8h.html#af17b7963b6a6964e5eb18480193acedb">spdk_event_call</a> (struct spdk_event *event)</td></tr>
<tr class="memdesc:af17b7963b6a6964e5eb18480193acedb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pass the given event to the associated lcore and call the function. <br /></td></tr>
<tr class="separator:af17b7963b6a6964e5eb18480193acedb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8621af2d872087cd8518ef93391a8fff"><td class="memItemLeft" align="right" valign="top"><a id="a8621af2d872087cd8518ef93391a8fff"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8h.html#a8621af2d872087cd8518ef93391a8fff">spdk_poller_register</a> (struct spdk_poller **ppoller, spdk_poller_fn fn, void *arg, uint32_t lcore, uint64_t period_microseconds)</td></tr>
<tr class="memdesc:a8621af2d872087cd8518ef93391a8fff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a poller on the given lcore. <br /></td></tr>
<tr class="separator:a8621af2d872087cd8518ef93391a8fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0a17ad53e73a18c97c56fe041d4f91d"><td class="memItemLeft" align="right" valign="top"><a id="ab0a17ad53e73a18c97c56fe041d4f91d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8h.html#ab0a17ad53e73a18c97c56fe041d4f91d">spdk_poller_unregister</a> (struct spdk_poller **ppoller, struct spdk_event *complete)</td></tr>
<tr class="memdesc:ab0a17ad53e73a18c97c56fe041d4f91d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a poller on the given lcore. <br /></td></tr>
<tr class="separator:ab0a17ad53e73a18c97c56fe041d4f91d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaceb0151a765d4068be9d37cefe37914"><td class="memItemLeft" align="right" valign="top"><a id="aaceb0151a765d4068be9d37cefe37914"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8h.html#aaceb0151a765d4068be9d37cefe37914">spdk_reactor_enable_context_switch_monitor</a> (bool enabled)</td></tr>
<tr class="memdesc:aaceb0151a765d4068be9d37cefe37914"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable or disable monitoring of context switches. <br /></td></tr>
<tr class="separator:aaceb0151a765d4068be9d37cefe37914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a008187a6eceaba982ca2c1d452061931"><td class="memItemLeft" align="right" valign="top"><a id="a008187a6eceaba982ca2c1d452061931"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="event_8h.html#a008187a6eceaba982ca2c1d452061931">spdk_reactor_context_switch_monitor_enabled</a> (void)</td></tr>
<tr class="memdesc:a008187a6eceaba982ca2c1d452061931"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return whether context switch monitoring is enabled. <br /></td></tr>
<tr class="separator:a008187a6eceaba982ca2c1d452061931"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Event framework public API. </p>
<p>See <a class="el" href="event.html#event_components">SPDK Event Framework Components</a> for an overview of the SPDK event framework API. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a18879873a585b21f44b7c90be8726ce1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18879873a585b21f44b7c90be8726ce1">&#9670;&nbsp;</a></span>spdk_app_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_app_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspdk__app__opts.html">spdk_app_opts</a> *&#160;</td>
          <td class="paramname"><em>opts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">spdk_event_fn&#160;</td>
          <td class="paramname"><em>start_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the framework. </p>
<p>Once started, the framework will call start_fn on the master core with the arguments provided. This call will block until <a class="el" href="event_8h.html#a40f3af1c0340f5c3eb915bc43e3cee83">spdk_app_stop</a> is called. </p>

</div>
</div>
<a id="a0bbbb23263a8ea9c93c3adf8aa3bce8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bbbb23263a8ea9c93c3adf8aa3bce8e">&#9670;&nbsp;</a></span>spdk_app_start_shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_app_start_shutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start shutting down the framework. </p>
<p>Typically this function is not called directly, and the shutdown process is started implicitly by a process signal. But in applications that are using SPDK for a subset of its process threads, this function can be called in lieu of a signal. </p>

</div>
</div>
<a id="a40f3af1c0340f5c3eb915bc43e3cee83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40f3af1c0340f5c3eb915bc43e3cee83">&#9670;&nbsp;</a></span>spdk_app_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_app_stop </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the framework. </p>
<p>This does not wait for all threads to exit. Instead, it kicks off the shutdown process and returns. Once the shutdown process is complete, <a class="el" href="event_8h.html#a18879873a585b21f44b7c90be8726ce1">spdk_app_start</a> will return. </p>

</div>
</div>
</div><!-- contents -->
</div>
