<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="generator" content="Doxygen 1.10.0" />
  <title>SPDK: idxd.h File Reference</title>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script type="text/javascript" src="../js/doxyboot.js"></script>
  <script type="text/javascript" src="./navtree.js"></script>
  <link href="../css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <link href="../css/spdk.css" rel="stylesheet" type="text/css">
</head>
<body>
  <nav class="navbar navbar-expand-md navbar-dark bg-dark px-2">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <a class="navbar-brand" href="/" aria-label="SPDK">
      <img src="/img/spdk.svg"  width="36" height="36" alt="Storage Performance Development Kit" />
    </a>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <div class="navbar-nav me-auto">
        <a class="nav-link header-link active" href="../doc/">Documentation</a>
        <a class="nav-link header-link" href="../development/">Development</a>
        <a class="nav-link header-link" href="../community/">Community</a>
        <a class="nav-link header-link" href="../blog/">Blog</a>
      </div>
      <div class="navbar-nav ms-auto me-3">
        <a class="nav-link header-link" href="https://github.com/spdk/spdk">
          <svg xmlns="http://www.w3.org/2000/svg" class="navbar-nav-svg"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
        </a>
      </div>
    </div>
  </nav>
  <div class="container-fluid doc">
      <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('idxd_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">idxd.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>IDXD driver public interface.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6604e6eda4d2763dd023b897c2c58968" id="r_a6604e6eda4d2763dd023b897c2c58968"><td class="memItemLeft" align="right" valign="top"><a id="a6604e6eda4d2763dd023b897c2c58968" name="a6604e6eda4d2763dd023b897c2c58968"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPDK_IDXD_FLAG_NONTEMPORAL</b>&#160;&#160;&#160;IDXD_FLAG_CACHE_CONTROL</td></tr>
<tr class="separator:a6604e6eda4d2763dd023b897c2c58968"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a75c066c5425700c49f077e20484b50c1" id="r_a75c066c5425700c49f077e20484b50c1"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a>) (void *arg, int status)</td></tr>
<tr class="memdesc:a75c066c5425700c49f077e20484b50c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signature for callback function invoked when a request is completed.  <br /></td></tr>
<tr class="separator:a75c066c5425700c49f077e20484b50c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d941aea0b11a77815cfdd10b1c3c22b" id="r_a4d941aea0b11a77815cfdd10b1c3c22b"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d941aea0b11a77815cfdd10b1c3c22b">spdk_idxd_attach_cb</a>) (void *cb_ctx, struct spdk_idxd_device *idxd)</td></tr>
<tr class="memdesc:a4d941aea0b11a77815cfdd10b1c3c22b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for <a class="el" href="#a9d1c79e79e6238cbfe5e3202850cce51" title="Enumerate the IDXD devices attached to the system and attach the userspace IDXD driver to them if des...">spdk_idxd_probe()</a> to report a device that has been attached to the userspace IDXD driver.  <br /></td></tr>
<tr class="separator:a4d941aea0b11a77815cfdd10b1c3c22b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e646b0325aa65b2a5b9519c204a724a" id="r_a9e646b0325aa65b2a5b9519c204a724a"><td class="memItemLeft" align="right" valign="top">typedef bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e646b0325aa65b2a5b9519c204a724a">spdk_idxd_probe_cb</a>) (void *cb_ctx, struct <a class="el" href="structspdk__pci__device.html">spdk_pci_device</a> *dev)</td></tr>
<tr class="memdesc:a9e646b0325aa65b2a5b9519c204a724a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for <a class="el" href="#a9d1c79e79e6238cbfe5e3202850cce51" title="Enumerate the IDXD devices attached to the system and attach the userspace IDXD driver to them if des...">spdk_idxd_probe()</a> to report a device that has been found.  <br /></td></tr>
<tr class="separator:a9e646b0325aa65b2a5b9519c204a724a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a627f2731d0965d9b6a7c8bc317af71eb" id="r_a627f2731d0965d9b6a7c8bc317af71eb"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a627f2731d0965d9b6a7c8bc317af71eb">spdk_idxd_get_socket</a> (struct spdk_idxd_device *idxd)</td></tr>
<tr class="memdesc:a627f2731d0965d9b6a7c8bc317af71eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the socket that this device is on.  <br /></td></tr>
<tr class="separator:a627f2731d0965d9b6a7c8bc317af71eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d1c79e79e6238cbfe5e3202850cce51" id="r_a9d1c79e79e6238cbfe5e3202850cce51"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d1c79e79e6238cbfe5e3202850cce51">spdk_idxd_probe</a> (void *cb_ctx, <a class="el" href="#a4d941aea0b11a77815cfdd10b1c3c22b">spdk_idxd_attach_cb</a> attach_cb, <a class="el" href="#a9e646b0325aa65b2a5b9519c204a724a">spdk_idxd_probe_cb</a> probe_cb)</td></tr>
<tr class="memdesc:a9d1c79e79e6238cbfe5e3202850cce51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumerate the IDXD devices attached to the system and attach the userspace IDXD driver to them if desired.  <br /></td></tr>
<tr class="separator:a9d1c79e79e6238cbfe5e3202850cce51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e6f3dcce485f4b3b8ba36fe4c03f93" id="r_aa6e6f3dcce485f4b3b8ba36fe4c03f93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa6e6f3dcce485f4b3b8ba36fe4c03f93">spdk_idxd_detach</a> (struct spdk_idxd_device *idxd)</td></tr>
<tr class="memdesc:aa6e6f3dcce485f4b3b8ba36fe4c03f93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detach specified device returned by <a class="el" href="#a9d1c79e79e6238cbfe5e3202850cce51" title="Enumerate the IDXD devices attached to the system and attach the userspace IDXD driver to them if des...">spdk_idxd_probe()</a> from the IDXD driver.  <br /></td></tr>
<tr class="separator:aa6e6f3dcce485f4b3b8ba36fe4c03f93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8549d7fa181e2e2f46bf83a98a979840" id="r_a8549d7fa181e2e2f46bf83a98a979840"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8549d7fa181e2e2f46bf83a98a979840">spdk_idxd_set_config</a> (bool kernel_mode)</td></tr>
<tr class="memdesc:a8549d7fa181e2e2f46bf83a98a979840"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the IDXD configuration.  <br /></td></tr>
<tr class="separator:a8549d7fa181e2e2f46bf83a98a979840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae52d7631d29803ad79831a18f731df6f" id="r_ae52d7631d29803ad79831a18f731df6f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae52d7631d29803ad79831a18f731df6f">spdk_idxd_submit_copy</a> (struct spdk_idxd_io_channel *chan, struct iovec *diov, uint32_t diovcnt, struct iovec *siov, uint32_t siovcnt, int flags, <a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a> cb_fn, void *cb_arg)</td></tr>
<tr class="memdesc:ae52d7631d29803ad79831a18f731df6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build and submit an idxd memory copy request.  <br /></td></tr>
<tr class="separator:ae52d7631d29803ad79831a18f731df6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac18651e41ad36f5c0805959d11698b5e" id="r_ac18651e41ad36f5c0805959d11698b5e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac18651e41ad36f5c0805959d11698b5e">spdk_idxd_submit_dualcast</a> (struct spdk_idxd_io_channel *chan, void *dst1, void *dst2, const void *src, uint64_t nbytes, int flags, <a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a> cb_fn, void *cb_arg)</td></tr>
<tr class="memdesc:ac18651e41ad36f5c0805959d11698b5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build and submit an idxd dualcast request.  <br /></td></tr>
<tr class="separator:ac18651e41ad36f5c0805959d11698b5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a163ea97cda6e3eaf879860ef45f85e5e" id="r_a163ea97cda6e3eaf879860ef45f85e5e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a163ea97cda6e3eaf879860ef45f85e5e">spdk_idxd_submit_compare</a> (struct spdk_idxd_io_channel *chan, struct iovec *siov1, size_t siov1cnt, struct iovec *siov2, size_t siov2cnt, int flags, <a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a> cb_fn, void *cb_arg)</td></tr>
<tr class="memdesc:a163ea97cda6e3eaf879860ef45f85e5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build and submit a memory compare request.  <br /></td></tr>
<tr class="separator:a163ea97cda6e3eaf879860ef45f85e5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31ff86efdf40d3af8c4b0362caa519b5" id="r_a31ff86efdf40d3af8c4b0362caa519b5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a31ff86efdf40d3af8c4b0362caa519b5">spdk_idxd_submit_fill</a> (struct spdk_idxd_io_channel *chan, struct iovec *diov, size_t diovcnt, uint64_t fill_pattern, int flags, <a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a> cb_fn, void *cb_arg)</td></tr>
<tr class="memdesc:a31ff86efdf40d3af8c4b0362caa519b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build and submit a idxd memory fill request.  <br /></td></tr>
<tr class="separator:a31ff86efdf40d3af8c4b0362caa519b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab45fa3fdcbe21d2771b0a70f4831336e" id="r_ab45fa3fdcbe21d2771b0a70f4831336e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab45fa3fdcbe21d2771b0a70f4831336e">spdk_idxd_submit_crc32c</a> (struct spdk_idxd_io_channel *chan, struct iovec *siov, size_t siovcnt, uint32_t seed, uint32_t *crc_dst, int flags, <a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a> cb_fn, void *cb_arg)</td></tr>
<tr class="memdesc:ab45fa3fdcbe21d2771b0a70f4831336e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build and submit a memory CRC32-C request.  <br /></td></tr>
<tr class="separator:ab45fa3fdcbe21d2771b0a70f4831336e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a632b300672a61fbc53c19e190d9e3f40" id="r_a632b300672a61fbc53c19e190d9e3f40"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a632b300672a61fbc53c19e190d9e3f40">spdk_idxd_submit_copy_crc32c</a> (struct spdk_idxd_io_channel *chan, struct iovec *diov, size_t diovcnt, struct iovec *siov, size_t siovcnt, uint32_t seed, uint32_t *crc_dst, int flags, <a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a> cb_fn, void *cb_arg)</td></tr>
<tr class="memdesc:a632b300672a61fbc53c19e190d9e3f40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build and submit a copy combined with CRC32-C request.  <br /></td></tr>
<tr class="separator:a632b300672a61fbc53c19e190d9e3f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa81b1c1358f0ace80c6552e41963cdcd" id="r_aa81b1c1358f0ace80c6552e41963cdcd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa81b1c1358f0ace80c6552e41963cdcd">spdk_idxd_submit_compress</a> (struct spdk_idxd_io_channel *chan, void *dst, uint64_t nbytes, struct iovec *siov, uint32_t siovcnt, uint32_t *output_size, int flags, <a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a> cb_fn, void *cb_arg)</td></tr>
<tr class="memdesc:aa81b1c1358f0ace80c6552e41963cdcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build and submit an IAA memory compress request.  <br /></td></tr>
<tr class="separator:aa81b1c1358f0ace80c6552e41963cdcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a152627581b35ac9cec6ef4eb8e36a4e3" id="r_a152627581b35ac9cec6ef4eb8e36a4e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a152627581b35ac9cec6ef4eb8e36a4e3">spdk_idxd_submit_decompress</a> (struct spdk_idxd_io_channel *chan, struct iovec *diov, uint32_t diovcnt, struct iovec *siov, uint32_t siovcnt, int flags, <a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a> cb_fn, void *cb_arg)</td></tr>
<tr class="memdesc:a152627581b35ac9cec6ef4eb8e36a4e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build and submit an IAA memory decompress request.  <br /></td></tr>
<tr class="separator:a152627581b35ac9cec6ef4eb8e36a4e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a100dd0931609fd0604282bd0ba0d88cd" id="r_a100dd0931609fd0604282bd0ba0d88cd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a100dd0931609fd0604282bd0ba0d88cd">spdk_idxd_submit_dif_check</a> (struct spdk_idxd_io_channel *chan, struct iovec *siov, size_t siovcnt, uint32_t num_blocks, const struct <a class="el" href="structspdk__dif__ctx.html">spdk_dif_ctx</a> *ctx, int flags, <a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a> cb_fn, void *cb_arg)</td></tr>
<tr class="memdesc:a100dd0931609fd0604282bd0ba0d88cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build and submit a DIF check request.  <br /></td></tr>
<tr class="separator:a100dd0931609fd0604282bd0ba0d88cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bf4736bd1b3e0ecfc19e51894c52bf0" id="r_a5bf4736bd1b3e0ecfc19e51894c52bf0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5bf4736bd1b3e0ecfc19e51894c52bf0">spdk_idxd_submit_dif_insert</a> (struct spdk_idxd_io_channel *chan, struct iovec *diov, size_t diovcnt, struct iovec *siov, size_t siovcnt, uint32_t num_blocks, const struct <a class="el" href="structspdk__dif__ctx.html">spdk_dif_ctx</a> *ctx, int flags, <a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a> cb_fn, void *cb_arg)</td></tr>
<tr class="memdesc:a5bf4736bd1b3e0ecfc19e51894c52bf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build and submit a DIF insert request.  <br /></td></tr>
<tr class="separator:a5bf4736bd1b3e0ecfc19e51894c52bf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8a6bf85dceb1cee5bd6f91cf1d8e5ba" id="r_ad8a6bf85dceb1cee5bd6f91cf1d8e5ba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad8a6bf85dceb1cee5bd6f91cf1d8e5ba">spdk_idxd_submit_dif_strip</a> (struct spdk_idxd_io_channel *chan, struct iovec *diov, size_t diovcnt, struct iovec *siov, size_t siovcnt, uint32_t num_blocks, const struct <a class="el" href="structspdk__dif__ctx.html">spdk_dif_ctx</a> *ctx, int flags, <a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a> cb_fn, void *cb_arg)</td></tr>
<tr class="memdesc:ad8a6bf85dceb1cee5bd6f91cf1d8e5ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build and submit a DIF strip request.  <br /></td></tr>
<tr class="separator:ad8a6bf85dceb1cee5bd6f91cf1d8e5ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d3c2666201ade973ac2fe89a6346139" id="r_a9d3c2666201ade973ac2fe89a6346139"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d3c2666201ade973ac2fe89a6346139">spdk_idxd_submit_raw_desc</a> (struct spdk_idxd_io_channel *chan, struct <a class="el" href="structidxd__hw__desc.html">idxd_hw_desc</a> *desc, <a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a> cb_fn, void *cb_arg)</td></tr>
<tr class="memdesc:a9d3c2666201ade973ac2fe89a6346139"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build and submit an IDXD raw request.  <br /></td></tr>
<tr class="separator:a9d3c2666201ade973ac2fe89a6346139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac92c2ac49b4b576f2538aa58846d93c3" id="r_ac92c2ac49b4b576f2538aa58846d93c3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac92c2ac49b4b576f2538aa58846d93c3">spdk_idxd_process_events</a> (struct spdk_idxd_io_channel *chan)</td></tr>
<tr class="memdesc:ac92c2ac49b4b576f2538aa58846d93c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for completed requests on an IDXD channel.  <br /></td></tr>
<tr class="separator:ac92c2ac49b4b576f2538aa58846d93c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f7d560d2d7d770673f9c42b5b156ad" id="r_a59f7d560d2d7d770673f9c42b5b156ad"><td class="memItemLeft" align="right" valign="top">struct spdk_idxd_io_channel *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59f7d560d2d7d770673f9c42b5b156ad">spdk_idxd_get_channel</a> (struct spdk_idxd_device *idxd)</td></tr>
<tr class="memdesc:a59f7d560d2d7d770673f9c42b5b156ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an IDXD channel for a given IDXD device.  <br /></td></tr>
<tr class="separator:a59f7d560d2d7d770673f9c42b5b156ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0de9abe0697950149cd1fe830717be90" id="r_a0de9abe0697950149cd1fe830717be90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0de9abe0697950149cd1fe830717be90">spdk_idxd_put_channel</a> (struct spdk_idxd_io_channel *chan)</td></tr>
<tr class="memdesc:a0de9abe0697950149cd1fe830717be90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free an IDXD channel.  <br /></td></tr>
<tr class="separator:a0de9abe0697950149cd1fe830717be90"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>IDXD driver public interface. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a4d941aea0b11a77815cfdd10b1c3c22b" name="a4d941aea0b11a77815cfdd10b1c3c22b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d941aea0b11a77815cfdd10b1c3c22b">&#9670;&#160;</a></span>spdk_idxd_attach_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* spdk_idxd_attach_cb) (void *cb_ctx, struct spdk_idxd_device *idxd)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for <a class="el" href="#a9d1c79e79e6238cbfe5e3202850cce51" title="Enumerate the IDXD devices attached to the system and attach the userspace IDXD driver to them if des...">spdk_idxd_probe()</a> to report a device that has been attached to the userspace IDXD driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb_ctx</td><td>User-specified opaque value corresponding to cb_ctx from <a class="el" href="#a9d1c79e79e6238cbfe5e3202850cce51" title="Enumerate the IDXD devices attached to the system and attach the userspace IDXD driver to them if des...">spdk_idxd_probe()</a>. </td></tr>
    <tr><td class="paramname">idxd</td><td>IDXD device that was attached to the driver. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9e646b0325aa65b2a5b9519c204a724a" name="a9e646b0325aa65b2a5b9519c204a724a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e646b0325aa65b2a5b9519c204a724a">&#9670;&#160;</a></span>spdk_idxd_probe_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef bool(* spdk_idxd_probe_cb) (void *cb_ctx, struct <a class="el" href="structspdk__pci__device.html">spdk_pci_device</a> *dev)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for <a class="el" href="#a9d1c79e79e6238cbfe5e3202850cce51" title="Enumerate the IDXD devices attached to the system and attach the userspace IDXD driver to them if des...">spdk_idxd_probe()</a> to report a device that has been found. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb_ctx</td><td>User-specified opaque value corresponding to cb_ctx from <a class="el" href="#a9d1c79e79e6238cbfe5e3202850cce51" title="Enumerate the IDXD devices attached to the system and attach the userspace IDXD driver to them if des...">spdk_idxd_probe()</a>. </td></tr>
    <tr><td class="paramname">dev</td><td>PCI device that is in question. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the caller wants the device, false if not.. </dd></dl>

</div>
</div>
<a id="a75c066c5425700c49f077e20484b50c1" name="a75c066c5425700c49f077e20484b50c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75c066c5425700c49f077e20484b50c1">&#9670;&#160;</a></span>spdk_idxd_req_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* spdk_idxd_req_cb) (void *arg, int status)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signature for callback function invoked when a request is completed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>User-specified opaque value corresponding to cb_arg from the request submission. </td></tr>
    <tr><td class="paramname">status</td><td>0 on success, negative errno on failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa6e6f3dcce485f4b3b8ba36fe4c03f93" name="aa6e6f3dcce485f4b3b8ba36fe4c03f93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6e6f3dcce485f4b3b8ba36fe4c03f93">&#9670;&#160;</a></span>spdk_idxd_detach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_idxd_detach </td>
          <td>(</td>
          <td class="paramtype">struct spdk_idxd_device *</td>          <td class="paramname"><span class="paramname"><em>idxd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detach specified device returned by <a class="el" href="#a9d1c79e79e6238cbfe5e3202850cce51" title="Enumerate the IDXD devices attached to the system and attach the userspace IDXD driver to them if des...">spdk_idxd_probe()</a> from the IDXD driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idxd</td><td>IDXD device to detach from the driver. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a59f7d560d2d7d770673f9c42b5b156ad" name="a59f7d560d2d7d770673f9c42b5b156ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59f7d560d2d7d770673f9c42b5b156ad">&#9670;&#160;</a></span>spdk_idxd_get_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spdk_idxd_io_channel * spdk_idxd_get_channel </td>
          <td>(</td>
          <td class="paramtype">struct spdk_idxd_device *</td>          <td class="paramname"><span class="paramname"><em>idxd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an IDXD channel for a given IDXD device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idxd</td><td>IDXD device to get a channel for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to an IDXD channel. </dd></dl>

</div>
</div>
<a id="a627f2731d0965d9b6a7c8bc317af71eb" name="a627f2731d0965d9b6a7c8bc317af71eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a627f2731d0965d9b6a7c8bc317af71eb">&#9670;&#160;</a></span>spdk_idxd_get_socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t spdk_idxd_get_socket </td>
          <td>(</td>
          <td class="paramtype">struct spdk_idxd_device *</td>          <td class="paramname"><span class="paramname"><em>idxd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the socket that this device is on. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idxd</td><td>device to query </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>socket number. </dd></dl>

</div>
</div>
<a id="a9d1c79e79e6238cbfe5e3202850cce51" name="a9d1c79e79e6238cbfe5e3202850cce51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d1c79e79e6238cbfe5e3202850cce51">&#9670;&#160;</a></span>spdk_idxd_probe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_idxd_probe </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cb_ctx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a4d941aea0b11a77815cfdd10b1c3c22b">spdk_idxd_attach_cb</a></td>          <td class="paramname"><span class="paramname"><em>attach_cb</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a9e646b0325aa65b2a5b9519c204a724a">spdk_idxd_probe_cb</a></td>          <td class="paramname"><span class="paramname"><em>probe_cb</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumerate the IDXD devices attached to the system and attach the userspace IDXD driver to them if desired. </p>
<p>If called more than once, only devices that are not already attached to the SPDK IDXD driver will be reported.</p>
<p>To stop using the controller and release its associated resources, call <a class="el" href="#aa6e6f3dcce485f4b3b8ba36fe4c03f93" title="Detach specified device returned by spdk_idxd_probe() from the IDXD driver.">spdk_idxd_detach()</a> with the idxd_channel instance returned by this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb_ctx</td><td>Opaque value which will be passed back in cb_ctx parameter of the callbacks. </td></tr>
    <tr><td class="paramname">probe_cb</td><td>callback to determine if the device being probe should be attached. </td></tr>
    <tr><td class="paramname">attach_cb</td><td>will be called for devices for which probe_cb returned true. once the IDXD controller has been attached to the userspace driver.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure. </dd></dl>

</div>
</div>
<a id="ac92c2ac49b4b576f2538aa58846d93c3" name="ac92c2ac49b4b576f2538aa58846d93c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac92c2ac49b4b576f2538aa58846d93c3">&#9670;&#160;</a></span>spdk_idxd_process_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_idxd_process_events </td>
          <td>(</td>
          <td class="paramtype">struct spdk_idxd_io_channel *</td>          <td class="paramname"><span class="paramname"><em>chan</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check for completed requests on an IDXD channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>IDXD channel to check for completions. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of operations completed. </dd></dl>

</div>
</div>
<a id="a0de9abe0697950149cd1fe830717be90" name="a0de9abe0697950149cd1fe830717be90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0de9abe0697950149cd1fe830717be90">&#9670;&#160;</a></span>spdk_idxd_put_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spdk_idxd_put_channel </td>
          <td>(</td>
          <td class="paramtype">struct spdk_idxd_io_channel *</td>          <td class="paramname"><span class="paramname"><em>chan</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free an IDXD channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>IDXD channel to free. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8549d7fa181e2e2f46bf83a98a979840" name="a8549d7fa181e2e2f46bf83a98a979840"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8549d7fa181e2e2f46bf83a98a979840">&#9670;&#160;</a></span>spdk_idxd_set_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_idxd_set_config </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>kernel_mode</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the IDXD configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kernel_mode</td><td>true if using kernel driver.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno on failure. </dd></dl>

</div>
</div>
<a id="a163ea97cda6e3eaf879860ef45f85e5e" name="a163ea97cda6e3eaf879860ef45f85e5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a163ea97cda6e3eaf879860ef45f85e5e">&#9670;&#160;</a></span>spdk_idxd_submit_compare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_idxd_submit_compare </td>
          <td>(</td>
          <td class="paramtype">struct spdk_idxd_io_channel *</td>          <td class="paramname"><span class="paramname"><em>chan</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iovec *</td>          <td class="paramname"><span class="paramname"><em>siov1</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>siov1cnt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iovec *</td>          <td class="paramname"><span class="paramname"><em>siov2</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>siov2cnt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a></td>          <td class="paramname"><span class="paramname"><em>cb_fn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cb_arg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build and submit a memory compare request. </p>
<p>This function will build the compare descriptor and then immediately submit by writing to the proper device portal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>IDXD channel to submit request. </td></tr>
    <tr><td class="paramname">siov1</td><td>First source iovec. </td></tr>
    <tr><td class="paramname">siov1cnt</td><td>Number of elements in siov1. </td></tr>
    <tr><td class="paramname">siov2</td><td>Second source iovec. </td></tr>
    <tr><td class="paramname">siov2cnt</td><td>Number of elements in siov2. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags, optional flags that can vary per operation. </td></tr>
    <tr><td class="paramname">cb_fn</td><td>Callback function which will be called when the request is complete. </td></tr>
    <tr><td class="paramname">cb_arg</td><td>Opaque value which will be passed back as the arg parameter in the completion callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno on failure. </dd></dl>

</div>
</div>
<a id="aa81b1c1358f0ace80c6552e41963cdcd" name="aa81b1c1358f0ace80c6552e41963cdcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa81b1c1358f0ace80c6552e41963cdcd">&#9670;&#160;</a></span>spdk_idxd_submit_compress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_idxd_submit_compress </td>
          <td>(</td>
          <td class="paramtype">struct spdk_idxd_io_channel *</td>          <td class="paramname"><span class="paramname"><em>chan</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>dst</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t</td>          <td class="paramname"><span class="paramname"><em>nbytes</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iovec *</td>          <td class="paramname"><span class="paramname"><em>siov</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>siovcnt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>output_size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a></td>          <td class="paramname"><span class="paramname"><em>cb_fn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cb_arg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build and submit an IAA memory compress request. </p>
<p>This function will build the compress descriptor and then immediately submit by writing to the proper device portal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>IDXD channel to submit request. </td></tr>
    <tr><td class="paramname">dst</td><td>Destination to write the compressed data to. </td></tr>
    <tr><td class="paramname">nbytes</td><td>Length in bytes. The dst buffer should be large enough to hold the compressed data. </td></tr>
    <tr><td class="paramname">siov</td><td>Source iovec. </td></tr>
    <tr><td class="paramname">siovcnt</td><td>Number of elements in siov. </td></tr>
    <tr><td class="paramname">output_size</td><td>The size of the compressed data. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags, optional flags that can vary per operation. </td></tr>
    <tr><td class="paramname">cb_fn</td><td>Callback function which will be called when the request is complete. </td></tr>
    <tr><td class="paramname">cb_arg</td><td>Opaque value which will be passed back as the arg parameter in the completion callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno on failure. </dd></dl>

</div>
</div>
<a id="ae52d7631d29803ad79831a18f731df6f" name="ae52d7631d29803ad79831a18f731df6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae52d7631d29803ad79831a18f731df6f">&#9670;&#160;</a></span>spdk_idxd_submit_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_idxd_submit_copy </td>
          <td>(</td>
          <td class="paramtype">struct spdk_idxd_io_channel *</td>          <td class="paramname"><span class="paramname"><em>chan</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iovec *</td>          <td class="paramname"><span class="paramname"><em>diov</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>diovcnt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iovec *</td>          <td class="paramname"><span class="paramname"><em>siov</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>siovcnt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a></td>          <td class="paramname"><span class="paramname"><em>cb_fn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cb_arg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build and submit an idxd memory copy request. </p>
<p>This function will build the copy descriptor and then immediately submit by writing to the proper device portal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>IDXD channel to submit request. </td></tr>
    <tr><td class="paramname">diov</td><td>Destination iovec. </td></tr>
    <tr><td class="paramname">diovcnt</td><td>Number of elements in diov. </td></tr>
    <tr><td class="paramname">siov</td><td>Source iovec. </td></tr>
    <tr><td class="paramname">siovcnt</td><td>Number of elements in siov. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags, optional flags that can vary per operation. </td></tr>
    <tr><td class="paramname">cb_fn</td><td>Callback function which will be called when the request is complete. </td></tr>
    <tr><td class="paramname">cb_arg</td><td>Opaque value which will be passed back as the arg parameter in the completion callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno on failure. </dd></dl>

</div>
</div>
<a id="a632b300672a61fbc53c19e190d9e3f40" name="a632b300672a61fbc53c19e190d9e3f40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a632b300672a61fbc53c19e190d9e3f40">&#9670;&#160;</a></span>spdk_idxd_submit_copy_crc32c()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_idxd_submit_copy_crc32c </td>
          <td>(</td>
          <td class="paramtype">struct spdk_idxd_io_channel *</td>          <td class="paramname"><span class="paramname"><em>chan</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iovec *</td>          <td class="paramname"><span class="paramname"><em>diov</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>diovcnt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iovec *</td>          <td class="paramname"><span class="paramname"><em>siov</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>siovcnt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>seed</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>crc_dst</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a></td>          <td class="paramname"><span class="paramname"><em>cb_fn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cb_arg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build and submit a copy combined with CRC32-C request. </p>
<p>This function will build the descriptor for copy plus CRC32-C and then immediately submit by writing to the proper device portal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>IDXD channel to submit request. </td></tr>
    <tr><td class="paramname">diov</td><td>Destination iovec. </td></tr>
    <tr><td class="paramname">diovcnt</td><td>Number of elements in diov. </td></tr>
    <tr><td class="paramname">siov</td><td>Source iovec. </td></tr>
    <tr><td class="paramname">siovcnt</td><td>Number of elements in siov. </td></tr>
    <tr><td class="paramname">seed</td><td>Four byte CRC-32C seed value. </td></tr>
    <tr><td class="paramname">crc_dst</td><td>Resulting calculation. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags, optional flags that can vary per operation. </td></tr>
    <tr><td class="paramname">cb_fn</td><td>Callback function which will be called when the request is complete. </td></tr>
    <tr><td class="paramname">cb_arg</td><td>Opaque value which will be passed back as the cb_arg parameter in the completion callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno on failure. </dd></dl>

</div>
</div>
<a id="ab45fa3fdcbe21d2771b0a70f4831336e" name="ab45fa3fdcbe21d2771b0a70f4831336e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab45fa3fdcbe21d2771b0a70f4831336e">&#9670;&#160;</a></span>spdk_idxd_submit_crc32c()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_idxd_submit_crc32c </td>
          <td>(</td>
          <td class="paramtype">struct spdk_idxd_io_channel *</td>          <td class="paramname"><span class="paramname"><em>chan</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iovec *</td>          <td class="paramname"><span class="paramname"><em>siov</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>siovcnt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>seed</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>crc_dst</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a></td>          <td class="paramname"><span class="paramname"><em>cb_fn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cb_arg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build and submit a memory CRC32-C request. </p>
<p>This function will build the CRC-32C descriptor and then immediately submit by writing to the proper device portal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>IDXD channel to submit request. </td></tr>
    <tr><td class="paramname">siov</td><td>Source iovec. </td></tr>
    <tr><td class="paramname">siovcnt</td><td>Number of elements in siov. </td></tr>
    <tr><td class="paramname">seed</td><td>Four byte CRC-32C seed value. </td></tr>
    <tr><td class="paramname">crc_dst</td><td>Resulting calculation. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags, optional flags that can vary per operation. </td></tr>
    <tr><td class="paramname">cb_fn</td><td>Callback function which will be called when the request is complete. </td></tr>
    <tr><td class="paramname">cb_arg</td><td>Opaque value which will be passed back as the cb_arg parameter in the completion callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno on failure. </dd></dl>

</div>
</div>
<a id="a152627581b35ac9cec6ef4eb8e36a4e3" name="a152627581b35ac9cec6ef4eb8e36a4e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a152627581b35ac9cec6ef4eb8e36a4e3">&#9670;&#160;</a></span>spdk_idxd_submit_decompress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_idxd_submit_decompress </td>
          <td>(</td>
          <td class="paramtype">struct spdk_idxd_io_channel *</td>          <td class="paramname"><span class="paramname"><em>chan</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iovec *</td>          <td class="paramname"><span class="paramname"><em>diov</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>diovcnt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iovec *</td>          <td class="paramname"><span class="paramname"><em>siov</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>siovcnt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a></td>          <td class="paramname"><span class="paramname"><em>cb_fn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cb_arg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build and submit an IAA memory decompress request. </p>
<p>This function will build the decompress descriptor and then immediately submit by writing to the proper device portal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>IDXD channel to submit request. </td></tr>
    <tr><td class="paramname">diov</td><td>Destination iovec. diov with diovcnt must be large enough to hold decompressed data. </td></tr>
    <tr><td class="paramname">diovcnt</td><td>Number of elements in diov for decompress buffer. </td></tr>
    <tr><td class="paramname">siov</td><td>Source iovec. </td></tr>
    <tr><td class="paramname">siovcnt</td><td>Number of elements in siov. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags, optional flags that can vary per operation. </td></tr>
    <tr><td class="paramname">cb_fn</td><td>Callback function which will be called when the request is complete. </td></tr>
    <tr><td class="paramname">cb_arg</td><td>Opaque value which will be passed back as the arg parameter in the completion callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno on failure. </dd></dl>

</div>
</div>
<a id="a100dd0931609fd0604282bd0ba0d88cd" name="a100dd0931609fd0604282bd0ba0d88cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a100dd0931609fd0604282bd0ba0d88cd">&#9670;&#160;</a></span>spdk_idxd_submit_dif_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_idxd_submit_dif_check </td>
          <td>(</td>
          <td class="paramtype">struct spdk_idxd_io_channel *</td>          <td class="paramname"><span class="paramname"><em>chan</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iovec *</td>          <td class="paramname"><span class="paramname"><em>siov</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>siovcnt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>num_blocks</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structspdk__dif__ctx.html">spdk_dif_ctx</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a></td>          <td class="paramname"><span class="paramname"><em>cb_fn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cb_arg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build and submit a DIF check request. </p>
<p>This function will build the DIF check descriptor and then immediately submit by writing to the proper device portal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>IDXD channel to submit request. </td></tr>
    <tr><td class="paramname">siov</td><td>Source iovec. </td></tr>
    <tr><td class="paramname">siovcnt</td><td>Number of elements in siov. </td></tr>
    <tr><td class="paramname">num_blocks</td><td>Total number of blocks to process. </td></tr>
    <tr><td class="paramname">ctx</td><td>DIF context. Contains the DIF configuration values, including the reference Application Tag value and initial value of the Reference Tag to check. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags, optional flags that can vary per operation. </td></tr>
    <tr><td class="paramname">cb_fn</td><td>Callback function which will be called when the request is complete. </td></tr>
    <tr><td class="paramname">cb_arg</td><td>Opaque value which will be passed back as the cb_arg parameter in the completion callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno on failure. </dd></dl>

</div>
</div>
<a id="a5bf4736bd1b3e0ecfc19e51894c52bf0" name="a5bf4736bd1b3e0ecfc19e51894c52bf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bf4736bd1b3e0ecfc19e51894c52bf0">&#9670;&#160;</a></span>spdk_idxd_submit_dif_insert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_idxd_submit_dif_insert </td>
          <td>(</td>
          <td class="paramtype">struct spdk_idxd_io_channel *</td>          <td class="paramname"><span class="paramname"><em>chan</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iovec *</td>          <td class="paramname"><span class="paramname"><em>diov</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>diovcnt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iovec *</td>          <td class="paramname"><span class="paramname"><em>siov</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>siovcnt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>num_blocks</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structspdk__dif__ctx.html">spdk_dif_ctx</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a></td>          <td class="paramname"><span class="paramname"><em>cb_fn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cb_arg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build and submit a DIF insert request. </p>
<p>This function will build the DIF insert descriptor and then immediately submit by writing to the proper device portal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>IDXD channel to submit request. </td></tr>
    <tr><td class="paramname">diov</td><td>Destination iovec. </td></tr>
    <tr><td class="paramname">diovcnt</td><td>Number of elements in diov. </td></tr>
    <tr><td class="paramname">siov</td><td>Source iovec. </td></tr>
    <tr><td class="paramname">siovcnt</td><td>Number of elements in siov. </td></tr>
    <tr><td class="paramname">num_blocks</td><td>Total number of blocks to process. </td></tr>
    <tr><td class="paramname">ctx</td><td>DIF context. Contains the DIF configuration values, including the reference Application Tag value and initial value of the Reference Tag to insert. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags, optional flags that can vary per operation. </td></tr>
    <tr><td class="paramname">cb_fn</td><td>Callback function which will be called when the request is complete. </td></tr>
    <tr><td class="paramname">cb_arg</td><td>Opaque value which will be passed back as the cb_arg parameter in the completion callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno on failure. </dd></dl>

</div>
</div>
<a id="ad8a6bf85dceb1cee5bd6f91cf1d8e5ba" name="ad8a6bf85dceb1cee5bd6f91cf1d8e5ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8a6bf85dceb1cee5bd6f91cf1d8e5ba">&#9670;&#160;</a></span>spdk_idxd_submit_dif_strip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_idxd_submit_dif_strip </td>
          <td>(</td>
          <td class="paramtype">struct spdk_idxd_io_channel *</td>          <td class="paramname"><span class="paramname"><em>chan</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iovec *</td>          <td class="paramname"><span class="paramname"><em>diov</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>diovcnt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iovec *</td>          <td class="paramname"><span class="paramname"><em>siov</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>siovcnt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>num_blocks</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structspdk__dif__ctx.html">spdk_dif_ctx</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a></td>          <td class="paramname"><span class="paramname"><em>cb_fn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cb_arg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build and submit a DIF strip request. </p>
<p>This function will build the DIF strip descriptor and then immediately submit by writing to the proper device portal. The transfer size must be a multiple of the source block size plus metadata for each source block. The number of bytes written to the destination is the transfer size minus metdata for each source block. The source and destination data can be scattered across several different buffers, but each source buffer has to be a multiple of a block size and each destination buffer has to be a multiple of a data block size excluding metadata. Moreover, the length of each element in the source array (siov) must be exactly the same as the corresponding element in the destination array (diov) excluding metadata size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>IDXD channel to submit request. </td></tr>
    <tr><td class="paramname">diov</td><td>Destination iovec. </td></tr>
    <tr><td class="paramname">diovcnt</td><td>Number of elements in diov. </td></tr>
    <tr><td class="paramname">siov</td><td>Source iovec. </td></tr>
    <tr><td class="paramname">siovcnt</td><td>Number of elements in siov. </td></tr>
    <tr><td class="paramname">num_blocks</td><td>Total number of blocks to process. </td></tr>
    <tr><td class="paramname">ctx</td><td>DIF context. Contains the DIF configuration values, including the reference Application Tag value and initial value of the Reference Tag. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags, optional flags that can vary per operation. </td></tr>
    <tr><td class="paramname">cb_fn</td><td>Callback function which will be called when the request is complete. </td></tr>
    <tr><td class="paramname">cb_arg</td><td>Opaque value which will be passed back as the cb_arg parameter in the completion callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno on failure. </dd></dl>

</div>
</div>
<a id="ac18651e41ad36f5c0805959d11698b5e" name="ac18651e41ad36f5c0805959d11698b5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac18651e41ad36f5c0805959d11698b5e">&#9670;&#160;</a></span>spdk_idxd_submit_dualcast()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_idxd_submit_dualcast </td>
          <td>(</td>
          <td class="paramtype">struct spdk_idxd_io_channel *</td>          <td class="paramname"><span class="paramname"><em>chan</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>dst1</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>dst2</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>src</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t</td>          <td class="paramname"><span class="paramname"><em>nbytes</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a></td>          <td class="paramname"><span class="paramname"><em>cb_fn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cb_arg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build and submit an idxd dualcast request. </p>
<p>This function will build the dual cast descriptor and then immediately submit by writing to the proper device portal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>IDXD channel to submit request. </td></tr>
    <tr><td class="paramname">dst1</td><td>First destination virtual address (must be 4K aligned). </td></tr>
    <tr><td class="paramname">dst2</td><td>Second destination virtual address (must be 4K aligned). </td></tr>
    <tr><td class="paramname">src</td><td>Source virtual address. </td></tr>
    <tr><td class="paramname">nbytes</td><td>Number of bytes to copy. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags, optional flags that can vary per operation. </td></tr>
    <tr><td class="paramname">cb_fn</td><td>Callback function which will be called when the request is complete. </td></tr>
    <tr><td class="paramname">cb_arg</td><td>Opaque value which will be passed back as the arg parameter in the completion callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno on failure. </dd></dl>

</div>
</div>
<a id="a31ff86efdf40d3af8c4b0362caa519b5" name="a31ff86efdf40d3af8c4b0362caa519b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31ff86efdf40d3af8c4b0362caa519b5">&#9670;&#160;</a></span>spdk_idxd_submit_fill()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_idxd_submit_fill </td>
          <td>(</td>
          <td class="paramtype">struct spdk_idxd_io_channel *</td>          <td class="paramname"><span class="paramname"><em>chan</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iovec *</td>          <td class="paramname"><span class="paramname"><em>diov</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>diovcnt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t</td>          <td class="paramname"><span class="paramname"><em>fill_pattern</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a></td>          <td class="paramname"><span class="paramname"><em>cb_fn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cb_arg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build and submit a idxd memory fill request. </p>
<p>This function will build the fill descriptor and then immediately submit by writing to the proper device portal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>IDXD channel to submit request. </td></tr>
    <tr><td class="paramname">diov</td><td>Destination iovec. </td></tr>
    <tr><td class="paramname">diovcnt</td><td>Number of elements in diov. </td></tr>
    <tr><td class="paramname">fill_pattern</td><td>Repeating eight-byte pattern to use for memory fill. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags, optional flags that can vary per operation. </td></tr>
    <tr><td class="paramname">cb_fn</td><td>Callback function which will be called when the request is complete. </td></tr>
    <tr><td class="paramname">cb_arg</td><td>Opaque value which will be passed back as the cb_arg parameter in the completion callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno on failure. </dd></dl>

</div>
</div>
<a id="a9d3c2666201ade973ac2fe89a6346139" name="a9d3c2666201ade973ac2fe89a6346139"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d3c2666201ade973ac2fe89a6346139">&#9670;&#160;</a></span>spdk_idxd_submit_raw_desc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_idxd_submit_raw_desc </td>
          <td>(</td>
          <td class="paramtype">struct spdk_idxd_io_channel *</td>          <td class="paramname"><span class="paramname"><em>chan</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structidxd__hw__desc.html">idxd_hw_desc</a> *</td>          <td class="paramname"><span class="paramname"><em>desc</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a75c066c5425700c49f077e20484b50c1">spdk_idxd_req_cb</a></td>          <td class="paramname"><span class="paramname"><em>cb_fn</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cb_arg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build and submit an IDXD raw request. </p>
<p>This function will process the supplied descriptor and then immediately submit by writing to the proper device portal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>IDXD channel to submit request. </td></tr>
    <tr><td class="paramname">desc</td><td>proprely formatted IDXD descriptor. Memory addresses should be physical. The completion address will be filled in by the lower level library. </td></tr>
    <tr><td class="paramname">cb_fn</td><td>Callback function which will be called when the request is complete. </td></tr>
    <tr><td class="paramname">cb_arg</td><td>Opaque value which will be passed back as the arg parameter in the completion callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative errno on failure. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
<ul>
        <li class="footer">Generated by
        <a href="http://www.doxygen.org/index.html">doxygen</a> 1.10.0 </li>
</ul>
</div>
</div>
</body>
</html>
