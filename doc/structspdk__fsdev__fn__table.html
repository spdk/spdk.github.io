<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="generator" content="Doxygen 1.10.0" />
  <title>SPDK: spdk_fsdev_fn_table Struct Reference</title>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script type="text/javascript" src="../js/doxyboot.js"></script>
  <script type="text/javascript" src="./navtree.js"></script>
  <link href="../css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <link href="../css/spdk.css" rel="stylesheet" type="text/css">
</head>
<body>
  <nav class="navbar navbar-expand-md navbar-dark bg-dark px-2">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <a class="navbar-brand" href="/" aria-label="SPDK">
      <img src="/img/spdk.svg"  width="36" height="36" alt="Storage Performance Development Kit" />
    </a>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <div class="navbar-nav me-auto">
        <a class="nav-link header-link active" href="../doc/">Documentation</a>
        <a class="nav-link header-link" href="../development/">Development</a>
        <a class="nav-link header-link" href="../community/">Community</a>
        <a class="nav-link header-link" href="../blog/">Blog</a>
      </div>
      <div class="navbar-nav ms-auto me-3">
        <a class="nav-link header-link" href="https://github.com/spdk/spdk">
          <svg xmlns="http://www.w3.org/2000/svg" class="navbar-nav-svg"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
        </a>
      </div>
    </div>
  </nav>
  <div class="container-fluid doc">
      <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('structspdk__fsdev__fn__table.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">spdk_fsdev_fn_table Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Function table for a filesystem device backend.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;fsdev_module.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a21a95503384efdec379fcb89f7333ccc" id="r_a21a95503384efdec379fcb89f7333ccc"><td class="memItemLeft" align="right" valign="top"><a id="a21a95503384efdec379fcb89f7333ccc" name="a21a95503384efdec379fcb89f7333ccc"></a>
int(*&#160;</td><td class="memItemRight" valign="bottom"><b>destruct</b> )(void *ctx)</td></tr>
<tr class="memdesc:a21a95503384efdec379fcb89f7333ccc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the backend filesystem device object. <br /></td></tr>
<tr class="separator:a21a95503384efdec379fcb89f7333ccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6e6dbc58c9382633848c42d975786c5" id="r_ac6e6dbc58c9382633848c42d975786c5"><td class="memItemLeft" align="right" valign="top"><a id="ac6e6dbc58c9382633848c42d975786c5" name="ac6e6dbc58c9382633848c42d975786c5"></a>
void(*&#160;</td><td class="memItemRight" valign="bottom"><b>submit_request</b> )(struct spdk_io_channel *ch, struct <a class="el" href="structspdk__fsdev__io.html">spdk_fsdev_io</a> *)</td></tr>
<tr class="memdesc:ac6e6dbc58c9382633848c42d975786c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the I/O request. <br /></td></tr>
<tr class="separator:ac6e6dbc58c9382633848c42d975786c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82ec742ee9b4d9aa1f2089bbd13aa4a1" id="r_a82ec742ee9b4d9aa1f2089bbd13aa4a1"><td class="memItemLeft" align="right" valign="top"><a id="a82ec742ee9b4d9aa1f2089bbd13aa4a1" name="a82ec742ee9b4d9aa1f2089bbd13aa4a1"></a>
struct spdk_io_channel *(*&#160;</td><td class="memItemRight" valign="bottom"><b>get_io_channel</b> )(void *ctx)</td></tr>
<tr class="memdesc:a82ec742ee9b4d9aa1f2089bbd13aa4a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an I/O channel for the specific fsdev for the calling thread. <br /></td></tr>
<tr class="separator:a82ec742ee9b4d9aa1f2089bbd13aa4a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5509ae1654e6d3b3486158f0ab10af3" id="r_af5509ae1654e6d3b3486158f0ab10af3"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5509ae1654e6d3b3486158f0ab10af3">negotiate_opts</a> )(void *ctx, struct <a class="el" href="structspdk__fsdev__open__opts.html">spdk_fsdev_open_opts</a> *opts)</td></tr>
<tr class="memdesc:af5509ae1654e6d3b3486158f0ab10af3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Negotiate fsdev device options.  <br /></td></tr>
<tr class="separator:af5509ae1654e6d3b3486158f0ab10af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a396854ded5398da6df655c670419910a" id="r_a396854ded5398da6df655c670419910a"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a396854ded5398da6df655c670419910a">write_config_json</a> )(struct <a class="el" href="structspdk__fsdev.html">spdk_fsdev</a> *fsdev, struct spdk_json_write_ctx *w)</td></tr>
<tr class="memdesc:a396854ded5398da6df655c670419910a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output fsdev-specific RPC configuration to a JSON stream.  <br /></td></tr>
<tr class="separator:a396854ded5398da6df655c670419910a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ff2aa540f1dfa908fd6a1f8b56a8417" id="r_a2ff2aa540f1dfa908fd6a1f8b56a8417"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ff2aa540f1dfa908fd6a1f8b56a8417">get_memory_domains</a> )(void *ctx, struct spdk_memory_domain **domains, int array_size)</td></tr>
<tr class="memdesc:a2ff2aa540f1dfa908fd6a1f8b56a8417"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get memory domains used by fsdev.  <br /></td></tr>
<tr class="separator:a2ff2aa540f1dfa908fd6a1f8b56a8417"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Function table for a filesystem device backend. </p>
<p>The backend filesystem device function table provides a set of APIs to allow communication with a backend. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a2ff2aa540f1dfa908fd6a1f8b56a8417" name="a2ff2aa540f1dfa908fd6a1f8b56a8417"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ff2aa540f1dfa908fd6a1f8b56a8417">&#9670;&#160;</a></span>get_memory_domains</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* spdk_fsdev_fn_table::get_memory_domains) (void *ctx, struct spdk_memory_domain **domains, int array_size)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get memory domains used by fsdev. </p>
<p>Optional - may be NULL. Vfsdev module implementation should call <a class="el" href="fsdev_8h.html#a42c8d01fc94e53cc4c63761af4bece45">spdk_fsdev_get_memory_domains</a> for underlying fsdev. Vfsdev module must inspect types of memory domains returned by base fsdev and report only those memory domains that it can work with. </p>

</div>
</div>
<a id="af5509ae1654e6d3b3486158f0ab10af3" name="af5509ae1654e6d3b3486158f0ab10af3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5509ae1654e6d3b3486158f0ab10af3">&#9670;&#160;</a></span>negotiate_opts</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* spdk_fsdev_fn_table::negotiate_opts) (void *ctx, struct <a class="el" href="structspdk__fsdev__open__opts.html">spdk_fsdev_open_opts</a> *opts)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Negotiate fsdev device options. </p>
<p>The function validates the desired options and adjust them to reflect it own capabilities. The module can only reduce the requested cababilities.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success or Fsdev specific negative error code. </dd></dl>

</div>
</div>
<a id="a396854ded5398da6df655c670419910a" name="a396854ded5398da6df655c670419910a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a396854ded5398da6df655c670419910a">&#9670;&#160;</a></span>write_config_json</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* spdk_fsdev_fn_table::write_config_json) (struct <a class="el" href="structspdk__fsdev.html">spdk_fsdev</a> *fsdev, struct spdk_json_write_ctx *w)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Output fsdev-specific RPC configuration to a JSON stream. </p>
<p>Optional - may be NULL.</p>
<p>The JSON write context will be initialized with an open object, so the fsdev driver should write all data necessary to recreate this fsdev by invoking constructor method. No other data should be written. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><b>fsdev_module.h</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
<ul>
        <li class="footer">Generated by
        <a href="http://www.doxygen.org/index.html">doxygen</a> 1.10.0 </li>
</ul>
</div>
</div>
</body>
</html>
