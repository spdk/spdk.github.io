<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- For Mobile Devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8">
  <meta name="generator" content="Doxygen 1.8.15">
  <title>SPDK: spdk_bdev_fn_table Struct Reference</title>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <script type="text/javascript" src="two.min.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,900" type="text/css">
  <link href="../css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="tabs.css" type="text/css">
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div class="container-fluid">
  <div id="top">  <!-- do not remove this div, it is closed by doxygen! -->
    <div class="row no-gutters">
      <div class="col-xs-12">
        <section id="nav">
          <div class="navbar navbar-default navbar-static-top banner-tabs">
            <ul class="nav navbar-nav">
              <li role="presentation">
                <a href="http://www.spdk.io/">
                  <i class="glyphicon glyphicon-home"></i>
                  <span class="box-name">home</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/releases/">
                  <i class="glyphicon glyphicon-download-alt"></i>
                  <span class="box-name">download</span>
                </a>
              </li>
              <li class="active" role="presentation">
                <a href="index.html">
                  <i class="glyphicon glyphicon-book"></i>
                  <span class="box-name">documentation</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/development/">
                  <i class="glyphicon glyphicon-wrench"></i>
                  <span class="box-name">development</span>
                </a>
              </li>
              <li role="presentation">
                <a href="https://spdk.io/ci/">
                  <i class="glyphicon glyphicon-ok"></i>
                  <span class="box-name">CI status</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/community/">
                  <i class="glyphicon glyphicon-envelope"></i>
                  <span class="box-name">community</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/blog/">
                  <i class="glyphicon glyphicon-comment"></i>
                  <span class="box-name">Blog</span>
                </a>
              </li>
              <li role="presentation">
                <a href="https://trello.com/b/MN8auadQ/spdk-roadmap">
                  <i class="glyphicon glyphicon-map-marker"></i>
                  <span class="box-name">Roadmap</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/news/">
                  <i class="glyphicon glyphicon-bullhorn"></i>
                  <span class="box-name">News</span>
                </a>
              </li>
            </ul>
          </div>
        </section>
      </div>
    </div>
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('structspdk__bdev__fn__table.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">spdk_bdev_fn_table Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Function table for a block device backend.  
 <a href="structspdk__bdev__fn__table.html#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for spdk_bdev_fn_table:</div>
<div class="dyncontent">
<div class="center"><img src="structspdk__bdev__fn__table__coll__graph.png" border="0" usemap="#spdk__bdev__fn__table_coll__map" alt="Collaboration graph"/></div>
<map name="spdk__bdev__fn__table_coll__map" id="spdk__bdev__fn__table_coll__map">
<area shape="rect"  title="Function table for a block device backend." alt="" coords="5,95,157,121"/>
<area shape="rect"  href="structspdk__io__channel.html" title="Represents a per&#45;thread channel for accessing an I/O device." alt="" coords="16,5,147,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a8a76c50a2b20205ec9fffe4afb9e3a15"><td class="memItemLeft" align="right" valign="top"><a id="a8a76c50a2b20205ec9fffe4afb9e3a15"></a>
int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__bdev__fn__table.html#a8a76c50a2b20205ec9fffe4afb9e3a15">destruct</a> )(void *ctx)</td></tr>
<tr class="memdesc:a8a76c50a2b20205ec9fffe4afb9e3a15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the backend block device object. <br /></td></tr>
<tr class="separator:a8a76c50a2b20205ec9fffe4afb9e3a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae80a9002371becdc6fb1c13f8f5173bf"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__bdev__fn__table.html#ae80a9002371becdc6fb1c13f8f5173bf">submit_request</a> )(struct <a class="el" href="structspdk__io__channel.html">spdk_io_channel</a> *ch, struct <a class="el" href="structspdk__bdev__io.html">spdk_bdev_io</a> *)</td></tr>
<tr class="memdesc:ae80a9002371becdc6fb1c13f8f5173bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the IO.  <a href="#ae80a9002371becdc6fb1c13f8f5173bf">More...</a><br /></td></tr>
<tr class="separator:ae80a9002371becdc6fb1c13f8f5173bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20ec74cad9e56c5ac8ee9db239d8f46e"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__bdev__fn__table.html#a20ec74cad9e56c5ac8ee9db239d8f46e">io_type_supported</a> )(void *ctx, enum <a class="el" href="bdev_8h.html#a633029e24ab5ae4a689bffa2565a519f">spdk_bdev_io_type</a>)</td></tr>
<tr class="memdesc:a20ec74cad9e56c5ac8ee9db239d8f46e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the block device supports a specific I/O type.  <a href="#a20ec74cad9e56c5ac8ee9db239d8f46e">More...</a><br /></td></tr>
<tr class="separator:a20ec74cad9e56c5ac8ee9db239d8f46e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf37e8944ceb5bfdf5f93f1525a7da98"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structspdk__io__channel.html">spdk_io_channel</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__bdev__fn__table.html#adf37e8944ceb5bfdf5f93f1525a7da98">get_io_channel</a> )(void *ctx)</td></tr>
<tr class="memdesc:adf37e8944ceb5bfdf5f93f1525a7da98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an I/O channel for the specific bdev for the calling thread.  <a href="#adf37e8944ceb5bfdf5f93f1525a7da98">More...</a><br /></td></tr>
<tr class="separator:adf37e8944ceb5bfdf5f93f1525a7da98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a417860f5598560a20b7bd4b5e8b4c3b0"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__bdev__fn__table.html#a417860f5598560a20b7bd4b5e8b4c3b0">dump_info_json</a> )(void *ctx, struct spdk_json_write_ctx *w)</td></tr>
<tr class="memdesc:a417860f5598560a20b7bd4b5e8b4c3b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output driver-specific information to a JSON stream.  <a href="#a417860f5598560a20b7bd4b5e8b4c3b0">More...</a><br /></td></tr>
<tr class="separator:a417860f5598560a20b7bd4b5e8b4c3b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a233c08c7269afc1108c3f734cc545ff4"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__bdev__fn__table.html#a233c08c7269afc1108c3f734cc545ff4">write_config_json</a> )(struct <a class="el" href="structspdk__bdev.html">spdk_bdev</a> *bdev, struct spdk_json_write_ctx *w)</td></tr>
<tr class="memdesc:a233c08c7269afc1108c3f734cc545ff4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output bdev-specific RPC configuration to a JSON stream.  <a href="#a233c08c7269afc1108c3f734cc545ff4">More...</a><br /></td></tr>
<tr class="separator:a233c08c7269afc1108c3f734cc545ff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafc336b4a42290b7e944fa0e73558a62"><td class="memItemLeft" align="right" valign="top">uint64_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__bdev__fn__table.html#aafc336b4a42290b7e944fa0e73558a62">get_spin_time</a> )(struct <a class="el" href="structspdk__io__channel.html">spdk_io_channel</a> *ch)</td></tr>
<tr class="memdesc:aafc336b4a42290b7e944fa0e73558a62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get spin-time per I/O channel in microseconds.  <a href="#aafc336b4a42290b7e944fa0e73558a62">More...</a><br /></td></tr>
<tr class="separator:aafc336b4a42290b7e944fa0e73558a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Function table for a block device backend. </p>
<p>The backend block device function table provides a set of APIs to allow communication with a backend. The main commands are read/write API calls for I/O via submit_request. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a417860f5598560a20b7bd4b5e8b4c3b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a417860f5598560a20b7bd4b5e8b4c3b0">&#9670;&nbsp;</a></span>dump_info_json</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* spdk_bdev_fn_table::dump_info_json) (void *ctx, struct spdk_json_write_ctx *w)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Output driver-specific information to a JSON stream. </p>
<p>Optional - may be NULL.</p>
<p>The JSON write context will be initialized with an open object, so the bdev driver should write a name (based on the driver name) followed by a JSON value (most likely another nested object). </p>

</div>
</div>
<a id="adf37e8944ceb5bfdf5f93f1525a7da98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf37e8944ceb5bfdf5f93f1525a7da98">&#9670;&nbsp;</a></span>get_io_channel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structspdk__io__channel.html">spdk_io_channel</a>*(* spdk_bdev_fn_table::get_io_channel) (void *ctx)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an I/O channel for the specific bdev for the calling thread. </p>

</div>
</div>
<a id="aafc336b4a42290b7e944fa0e73558a62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafc336b4a42290b7e944fa0e73558a62">&#9670;&nbsp;</a></span>get_spin_time</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t(* spdk_bdev_fn_table::get_spin_time) (struct <a class="el" href="structspdk__io__channel.html">spdk_io_channel</a> *ch)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get spin-time per I/O channel in microseconds. </p>
<p>Optional - may be NULL. </p>

</div>
</div>
<a id="a20ec74cad9e56c5ac8ee9db239d8f46e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20ec74cad9e56c5ac8ee9db239d8f46e">&#9670;&nbsp;</a></span>io_type_supported</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* spdk_bdev_fn_table::io_type_supported) (void *ctx, enum <a class="el" href="bdev_8h.html#a633029e24ab5ae4a689bffa2565a519f">spdk_bdev_io_type</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the block device supports a specific I/O type. </p>

</div>
</div>
<a id="ae80a9002371becdc6fb1c13f8f5173bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae80a9002371becdc6fb1c13f8f5173bf">&#9670;&nbsp;</a></span>submit_request</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* spdk_bdev_fn_table::submit_request) (struct <a class="el" href="structspdk__io__channel.html">spdk_io_channel</a> *ch, struct <a class="el" href="structspdk__bdev__io.html">spdk_bdev_io</a> *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process the IO. </p>

</div>
</div>
<a id="a233c08c7269afc1108c3f734cc545ff4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a233c08c7269afc1108c3f734cc545ff4">&#9670;&nbsp;</a></span>write_config_json</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* spdk_bdev_fn_table::write_config_json) (struct <a class="el" href="structspdk__bdev.html">spdk_bdev</a> *bdev, struct spdk_json_write_ctx *w)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Output bdev-specific RPC configuration to a JSON stream. </p>
<p>Optional - may be NULL.</p>
<p>This function should only be implemented for bdevs which can be configured independently of other bdevs. For example, RPCs to create a bdev for an NVMe namespace may not be generated by this function, since enumerating an NVMe namespace requires attaching to an NVMe controller, and that controller may contain multiple namespaces. The <a class="el" href="structspdk__bdev__module.html" title="Block device module.">spdk_bdev_module</a>'s config_json function should be used instead for these cases.</p>
<p>The JSON write context will be initialized with an open object, so the bdev driver should write all data necessary to recreate this bdev by invoking constructor method. No other data should be written. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="bdev__module_8h.html">bdev_module.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
</div>
