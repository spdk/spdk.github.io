<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="generator" content="Doxygen 1.9.1" />
  <title>SPDK: spdk_lvs_opts Struct Reference</title>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script type="text/javascript" src="../js/doxyboot.js"></script>
  <script type="text/javascript" src="./navtree.js"></script>
  <link href="../css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <link href="../css/spdk.css" rel="stylesheet" type="text/css">
</head>
<body>
  <nav class="navbar navbar-expand-md navbar-dark bg-dark px-2">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <a class="navbar-brand" href="/" aria-label="SPDK">
      <img src="/img/spdk.svg"  width="36" height="36" alt="Storage Performance Development Kit" />
    </a>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <div class="navbar-nav me-auto">
        <a class="nav-link header-link active" href="../doc/">Documentation</a>
        <a class="nav-link header-link" href="../development/">Development</a>
        <a class="nav-link header-link" href="../community/">Community</a>
        <a class="nav-link header-link" href="../blog/">Blog</a>
      </div>
      <div class="navbar-nav ms-auto me-3">
        <a class="nav-link header-link" href="https://github.com/spdk/spdk">
          <svg xmlns="http://www.w3.org/2000/svg" class="navbar-nav-svg"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
        </a>
      </div>
    </div>
  </nav>
  <div class="container-fluid doc">
      <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('structspdk__lvs__opts.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">spdk_lvs_opts Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Parameters for lvolstore initialization.  
 <a href="structspdk__lvs__opts.html#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for spdk_lvs_opts:</div>
<div class="dyncontent">
<div class="center"><img src="structspdk__lvs__opts__coll__graph.png" border="0" usemap="#aspdk__lvs__opts_coll__map" alt="Collaboration graph"/></div>
<map name="aspdk__lvs__opts_coll__map" id="aspdk__lvs__opts_coll__map">
<area shape="rect" title="Parameters for lvolstore initialization." alt="" coords="5,184,120,211"/>
<area shape="rect" href="structspdk__bs__dev.html" title=" " alt="" coords="9,95,116,121"/>
<area shape="rect" href="structspdk__bdev.html" title=" " alt="" coords="17,5,109,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a7de65fde2acf310c0d7ba4479d368f46"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__lvs__opts.html#a7de65fde2acf310c0d7ba4479d368f46">cluster_sz</a></td></tr>
<tr class="memdesc:a7de65fde2acf310c0d7ba4479d368f46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of cluster in bytes.  <a href="structspdk__lvs__opts.html#a7de65fde2acf310c0d7ba4479d368f46">More...</a><br /></td></tr>
<tr class="separator:a7de65fde2acf310c0d7ba4479d368f46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad72430d6eb4550837aca4946a3990f8e"><td class="memItemLeft" align="right" valign="top"><a id="ad72430d6eb4550837aca4946a3990f8e"></a>
enum lvs_clear_method&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__lvs__opts.html#ad72430d6eb4550837aca4946a3990f8e">clear_method</a></td></tr>
<tr class="memdesc:ad72430d6eb4550837aca4946a3990f8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear method. <br /></td></tr>
<tr class="separator:ad72430d6eb4550837aca4946a3990f8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8ddc17ea3ac0cf9ef7f866cf1fac3e0"><td class="memItemLeft" align="right" valign="top"><a id="aa8ddc17ea3ac0cf9ef7f866cf1fac3e0"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__lvs__opts.html#aa8ddc17ea3ac0cf9ef7f866cf1fac3e0">name</a> [SPDK_LVS_NAME_MAX]</td></tr>
<tr class="memdesc:aa8ddc17ea3ac0cf9ef7f866cf1fac3e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the lvolstore. <br /></td></tr>
<tr class="separator:aa8ddc17ea3ac0cf9ef7f866cf1fac3e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a441dae8d3badece5ef1c52eca5b55cea"><td class="memItemLeft" align="right" valign="top"><a id="a441dae8d3badece5ef1c52eca5b55cea"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__lvs__opts.html#a441dae8d3badece5ef1c52eca5b55cea">num_md_pages_per_cluster_ratio</a></td></tr>
<tr class="memdesc:a441dae8d3badece5ef1c52eca5b55cea"><td class="mdescLeft">&#160;</td><td class="mdescRight">num_md_pages_per_cluster_ratio = 100 means 1 page per cluster <br /></td></tr>
<tr class="separator:a441dae8d3badece5ef1c52eca5b55cea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb87d4e7eddafa21f26296a4c714db58"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__lvs__opts.html#acb87d4e7eddafa21f26296a4c714db58">opts_size</a></td></tr>
<tr class="memdesc:acb87d4e7eddafa21f26296a4c714db58"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size of spdk_lvol_opts according to the caller of this library is used for ABI compatibility.  <a href="structspdk__lvs__opts.html#acb87d4e7eddafa21f26296a4c714db58">More...</a><br /></td></tr>
<tr class="separator:acb87d4e7eddafa21f26296a4c714db58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd478088cf88a9731e689ae48ea461e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="blob_8h.html#aa9de71c711c86a2fb7b9a7d967ebede4">spdk_bs_esnap_dev_create</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__lvs__opts.html#acd478088cf88a9731e689ae48ea461e0">esnap_bs_dev_create</a></td></tr>
<tr class="memdesc:acd478088cf88a9731e689ae48ea461e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function to be called to load external snapshots.  <a href="structspdk__lvs__opts.html#acd478088cf88a9731e689ae48ea461e0">More...</a><br /></td></tr>
<tr class="separator:acd478088cf88a9731e689ae48ea461e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Parameters for lvolstore initialization. </p>
<p>Create clone of given non-lvol device.</p>
<p>The bdev that is being cloned is commonly called an external snapshot or esnap. The clone is commonly called an esnap clone.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">esnap_id</td><td>The identifier that will be passed to the spdk_bs_esnap_dev_create callback. </td></tr>
    <tr><td class="paramname">id_len</td><td>The length of esnap_id, in bytes. </td></tr>
    <tr><td class="paramname">size_bytes</td><td>The size of the external snapshot device, in bytes. This must be an integer multiple of the lvolstore's cluster size. See <code>cluster_sz</code> in </td></tr>
    <tr><td class="paramname">lvs</td><td>Handle to lvolstore. </td></tr>
    <tr><td class="paramname">clone_name</td><td>Name of created clone. </td></tr>
    <tr><td class="paramname">cb_fn</td><td>Completion callback. </td></tr>
    <tr><td class="paramname">cb_arg</td><td>Completion callback custom arguments. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if parameters pass verification checks and the esnap creation is started, in which case the <code>cb_fn</code> will be used to report the completion status. If an error is encountered, a negative errno will be returned and <code>cb_fn</code> will not be called. </dd></dl>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a7de65fde2acf310c0d7ba4479d368f46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7de65fde2acf310c0d7ba4479d368f46">&#9670;&nbsp;</a></span>cluster_sz</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t spdk_lvs_opts::cluster_sz</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of cluster in bytes. </p>
<p>Must be multiple of 4KiB page size. </p>

</div>
</div>
<a id="acd478088cf88a9731e689ae48ea461e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd478088cf88a9731e689ae48ea461e0">&#9670;&nbsp;</a></span>esnap_bs_dev_create</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="blob_8h.html#aa9de71c711c86a2fb7b9a7d967ebede4">spdk_bs_esnap_dev_create</a> spdk_lvs_opts::esnap_bs_dev_create</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function to be called to load external snapshots. </p>
<p>If this is NULL while the lvolstore is being loaded, the lvolstore will not support external snapshots. </p>

</div>
</div>
<a id="acb87d4e7eddafa21f26296a4c714db58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb87d4e7eddafa21f26296a4c714db58">&#9670;&nbsp;</a></span>opts_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t spdk_lvs_opts::opts_size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The size of spdk_lvol_opts according to the caller of this library is used for ABI compatibility. </p>
<p>The library uses this field to know how many fields in this structure are valid. And the library will populate any remaining fields with default values. After that, new added fields should be put in the end of the struct. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="lvol_8h.html">lvol.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
<ul>
        <li class="footer">Generated by
        <a href="http://www.doxygen.org/index.html">doxygen</a> 1.9.1 </li>
</ul>
</div>
</div>
</body>
</html>
