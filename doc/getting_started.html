<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="generator" content="Doxygen 1.10.0" />
  <title>SPDK: Getting Started</title>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script type="text/javascript" src="../js/doxyboot.js"></script>
  <script type="text/javascript" src="./navtree.js"></script>
  <link href="../css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <link href="../css/spdk.css" rel="stylesheet" type="text/css">
</head>
<body>
  <nav class="navbar navbar-expand-md navbar-dark bg-dark px-2">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <a class="navbar-brand" href="/" aria-label="SPDK">
      <img src="/img/spdk.svg"  width="36" height="36" alt="Storage Performance Development Kit" />
    </a>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <div class="navbar-nav me-auto">
        <a class="nav-link header-link active" href="../doc/">Documentation</a>
        <a class="nav-link header-link" href="../development/">Development</a>
        <a class="nav-link header-link" href="../community/">Community</a>
        <a class="nav-link header-link" href="../blog/">Blog</a>
      </div>
      <div class="navbar-nav ms-auto me-3">
        <a class="nav-link header-link" href="https://github.com/spdk/spdk">
          <svg xmlns="http://www.w3.org/2000/svg" class="navbar-nav-svg"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
        </a>
      </div>
    </div>
  </nav>
  <div class="container-fluid doc">
      <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('getting_started.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Getting Started</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_getting__started"></a> </p>
<h1><a class="anchor" id="getting_started_source"></a>
Getting the Source Code</h1>
<div class="fragment"><div class="line">git clone https://github.com/spdk/spdk --recursive</div>
</div><!-- fragment --><h1><a class="anchor" id="getting_started_prerequisites"></a>
Installing Prerequisites</h1>
<p>The <code>scripts/pkgdep.sh</code> script will automatically install the bare minimum dependencies required to build SPDK. Use <code>--help</code> to see information on installing dependencies for optional components.</p>
<div class="fragment"><div class="line">sudo scripts/pkgdep.sh</div>
</div><!-- fragment --><p>Option &ndash;all will install all dependencies needed by SPDK features.</p>
<div class="fragment"><div class="line">sudo scripts/pkgdep.sh --all</div>
</div><!-- fragment --><h1><a class="anchor" id="getting_started_building"></a>
Building</h1>
<p>Linux:</p>
<div class="fragment"><div class="line">./configure</div>
<div class="line">make</div>
</div><!-- fragment --><p>FreeBSD: Note: Make sure you have the matching kernel source in /usr/src/</p>
<div class="fragment"><div class="line">./configure</div>
<div class="line">gmake</div>
</div><!-- fragment --><p>There are a number of options available for the configure script, which can be viewed by running</p>
<div class="fragment"><div class="line">./configure --help</div>
</div><!-- fragment --><p>Note that not all features are enabled by default. For example, RDMA support (and hence NVMe over Fabrics) is not enabled by default. You can enable it by doing the following:</p>
<div class="fragment"><div class="line">./configure --with-rdma</div>
<div class="line">make</div>
</div><!-- fragment --><h1><a class="anchor" id="getting_started_unittests"></a>
Running the Unit Tests</h1>
<p>It's always a good idea to confirm your build worked by running the unit tests.</p>
<div class="fragment"><div class="line">./test/unit/unittest.sh</div>
</div><!-- fragment --><p>You will see several error messages when running the unit tests, but they are part of the test suite. The final message at the end of the script indicates success or failure.</p>
<h1><a class="anchor" id="getting_started_examples"></a>
Running the Example Applications</h1>
<p>Before running an SPDK application, some hugepages must be allocated and any NVMe and I/OAT devices must be unbound from the native kernel drivers. SPDK includes a script to automate this process on both Linux and FreeBSD. This script should be run as root. It only needs to be run once on the system.</p>
<div class="fragment"><div class="line">sudo scripts/setup.sh</div>
</div><!-- fragment --><p>To rebind devices back to the kernel, you can run</p>
<div class="fragment"><div class="line">sudo scripts/setup.sh reset</div>
</div><!-- fragment --><p>By default, the script allocates 2048MB of hugepages. To change this number, specify HUGEMEM (in MB) as follows:</p>
<div class="fragment"><div class="line">sudo HUGEMEM=4096 scripts/setup.sh</div>
</div><!-- fragment --><p>On Linux machines HUGEMEM will be rounded up to system-default huge page size boundary.</p>
<p>All available params can be viewed by running</p>
<div class="fragment"><div class="line">scripts/setup.sh help</div>
</div><!-- fragment --><p>Example code is located in the examples directory. The examples are compiled automatically as part of the build process. Simply call any of the examples with no arguments to see the help output. If your system has its IOMMU enabled you can run the examples as your regular user. If it doesn't, you'll need to run as a privileged user (root).</p>
<p>A good example to start with is <code>build/bin/spdk_nvme_identify</code>, which prints out information about all of the NVMe devices on your system.</p>
<p>Larger, more fully functional applications are available in the <code>app</code> directory. This includes the <a href="https://spdk.io/doc/iscsi.html">iSCSI target</a> and <a href="https://spdk.io/doc/nvmf.html">NVMe-oF target</a> and tools like <a href="https://spdk.io/doc/spdk_top.html">spdk_top</a>. This neat program simulates regular <code>top</code> application and shows SPDK threads, pollers and SPDK assigned CPU cores statistics in a form of interactive list. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
<ul>
        <li class="footer">Generated by
        <a href="http://www.doxygen.org/index.html">doxygen</a> 1.10.0 </li>
</ul>
</div>
</div>
</body>
</html>
