<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- For Mobile Devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8">
  <meta name="generator" content="Doxygen 1.8.14">
  <title>SPDK: spdk_nvme_io_qpair_opts Struct Reference</title>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <script type="text/javascript" src="two.min.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,900" type="text/css">
  <link href="../css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="tabs.css" type="text/css">
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div class="container-fluid">
  <div id="top">  <!-- do not remove this div, it is closed by doxygen! -->
    <div class="row no-gutters">
      <div class="col-xs-12">
        <section id="nav">
          <div class="navbar navbar-default navbar-static-top banner-tabs">
            <ul class="nav navbar-nav">
              <li role="presentation">
                <a href="http://www.spdk.io/">
                  <i class="glyphicon glyphicon-home"></i>
                  <span class="box-name">home</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/releases/">
                  <i class="glyphicon glyphicon-download-alt"></i>
                  <span class="box-name">download</span>
                </a>
              </li>
              <li class="active" role="presentation">
                <a href="index.html">
                  <i class="glyphicon glyphicon-book"></i>
                  <span class="box-name">documentation</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/development/">
                  <i class="glyphicon glyphicon-wrench"></i>
                  <span class="box-name">development</span>
                </a>
              </li>
              <li role="presentation">
                <a href="https://spdk.io/ci/">
                  <i class="glyphicon glyphicon-ok"></i>
                  <span class="box-name">CI status</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/community/">
                  <i class="glyphicon glyphicon-envelope"></i>
                  <span class="box-name">community</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/blog/">
                  <i class="glyphicon glyphicon-comment"></i>
                  <span class="box-name">Blog</span>
                </a>
              </li>
              <li role="presentation">
                <a href="https://trello.com/b/MN8auadQ/spdk-roadmap">
                  <i class="glyphicon glyphicon-map-marker"></i>
                  <span class="box-name">Roadmap</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/news/">
                  <i class="glyphicon glyphicon-bullhorn"></i>
                  <span class="box-name">News</span>
                </a>
              </li>
            </ul>
          </div>
        </section>
      </div>
    </div>
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('structspdk__nvme__io__qpair__opts.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">spdk_nvme_io_qpair_opts Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>NVMe I/O queue pair initialization options.  
 <a href="structspdk__nvme__io__qpair__opts.html#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for spdk_nvme_io_qpair_opts:</div>
<div class="dyncontent">
<div class="center"><img src="structspdk__nvme__io__qpair__opts__coll__graph.png" border="0" usemap="#spdk__nvme__io__qpair__opts_coll__map" alt="Collaboration graph"/></div>
<map name="spdk__nvme__io__qpair__opts_coll__map" id="spdk__nvme__io__qpair__opts_coll__map">
<area shape="rect" id="node2" href="structspdk__nvme__cmd.html" title="spdk_nvme_cmd" alt="" coords="341,95,473,121"/>
<area shape="rect" id="node3" href="unionspdk__nvme__cmd__cdw10.html" title="spdk_nvme_cmd_cdw10" alt="" coords="5,5,187,32"/>
<area shape="rect" id="node4" href="unionspdk__nvme__cmd__cdw11.html" title="spdk_nvme_cmd_cdw11" alt="" coords="211,5,392,32"/>
<area shape="rect" id="node5" href="structspdk__nvme__sgl__descriptor.html" title="spdk_nvme_sgl_descriptor" alt="" coords="416,5,611,32"/>
<area shape="rect" id="node6" href="structspdk__nvme__cpl.html" title="Completion queue entry. " alt="" coords="571,95,693,121"/>
<area shape="rect" id="node7" href="structspdk__nvme__status.html" title="spdk_nvme_status" alt="" coords="635,5,779,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a9a9ae75991da44a7fbf06a3c82161a6d"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="nvme__spec_8h.html#ae83a61e254cf9d1fd59376ceedd1b4e6">spdk_nvme_qprio</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__nvme__io__qpair__opts.html#a9a9ae75991da44a7fbf06a3c82161a6d">qprio</a></td></tr>
<tr class="memdesc:a9a9ae75991da44a7fbf06a3c82161a6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue priority for weighted round robin arbitration.  <a href="#a9a9ae75991da44a7fbf06a3c82161a6d">More...</a><br /></td></tr>
<tr class="separator:a9a9ae75991da44a7fbf06a3c82161a6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb8aa3f64bc021ea5e9fddec6796341"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__nvme__io__qpair__opts.html#adbb8aa3f64bc021ea5e9fddec6796341">io_queue_size</a></td></tr>
<tr class="memdesc:adbb8aa3f64bc021ea5e9fddec6796341"><td class="mdescLeft">&#160;</td><td class="mdescRight">The queue depth of this NVMe I/O queue.  <a href="#adbb8aa3f64bc021ea5e9fddec6796341">More...</a><br /></td></tr>
<tr class="separator:adbb8aa3f64bc021ea5e9fddec6796341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4af594ef7f8b7e590662633c926146b4"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__nvme__io__qpair__opts.html#a4af594ef7f8b7e590662633c926146b4">io_queue_requests</a></td></tr>
<tr class="memdesc:a4af594ef7f8b7e590662633c926146b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of requests to allocate for this NVMe I/O queue.  <a href="#a4af594ef7f8b7e590662633c926146b4">More...</a><br /></td></tr>
<tr class="separator:a4af594ef7f8b7e590662633c926146b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4212825367a435bdef9f2d55ab03d84c"><td class="memItemLeft" >union {</td></tr>
<tr class="memitem:a9a4585b775a9bf36b66c74d4f8169bd2"><td class="memItemLeft" >
&#160;&#160;&#160;bool&#160;&#160;&#160;<b>delay_cmd_submit</b></td></tr>
<tr class="separator:a9a4585b775a9bf36b66c74d4f8169bd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb655b749e9d059b7d059cbb26b3cf80"><td class="memItemLeft" >
&#160;&#160;&#160;bool&#160;&#160;&#160;<b>delay_pcie_doorbell</b></td></tr>
<tr class="separator:acb655b749e9d059b7d059cbb26b3cf80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4212825367a435bdef9f2d55ab03d84c"><td class="memItemLeft" valign="top">};&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="memdesc:a4212825367a435bdef9f2d55ab03d84c"><td class="mdescLeft">&#160;</td><td class="mdescRight">When submitting I/O via spdk_nvme_ns_read/write and similar functions, don't immediately submit it to hardware.  <a href="#a4212825367a435bdef9f2d55ab03d84c">More...</a><br /></td></tr>
<tr class="separator:a4212825367a435bdef9f2d55ab03d84c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1c1be3c40c578728c2efff560cfaf15"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:a6552eda13b99aa760a1f42d568134f56"><td class="memItemLeft" >
&#160;&#160;&#160;struct <a class="el" href="structspdk__nvme__cmd.html">spdk_nvme_cmd</a> *&#160;&#160;&#160;<b>vaddr</b></td></tr>
<tr class="separator:a6552eda13b99aa760a1f42d568134f56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ca56a5a191e14daec92164a0ceac9ec"><td class="memItemLeft" >
&#160;&#160;&#160;uint64_t&#160;&#160;&#160;<b>paddr</b></td></tr>
<tr class="separator:a2ca56a5a191e14daec92164a0ceac9ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5788133647ff2fd030eb345ade389cee"><td class="memItemLeft" >
&#160;&#160;&#160;uint64_t&#160;&#160;&#160;<b>buffer_size</b></td></tr>
<tr class="separator:a5788133647ff2fd030eb345ade389cee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1c1be3c40c578728c2efff560cfaf15"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspdk__nvme__io__qpair__opts.html#ac1c1be3c40c578728c2efff560cfaf15">sq</a></td></tr>
<tr class="memdesc:ac1c1be3c40c578728c2efff560cfaf15"><td class="mdescLeft">&#160;</td><td class="mdescRight">These fields allow specifying the memory buffers for the submission and/or completion queues.  <a href="#ac1c1be3c40c578728c2efff560cfaf15">More...</a><br /></td></tr>
<tr class="separator:ac1c1be3c40c578728c2efff560cfaf15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d65fe6f110468b7a531702184dd81ab"><td class="memItemLeft" ><a id="a9d65fe6f110468b7a531702184dd81ab"></a>
struct {</td></tr>
<tr class="memitem:aaf415112d0bf4d5c7c08027b505d1962"><td class="memItemLeft" >
&#160;&#160;&#160;struct <a class="el" href="structspdk__nvme__cpl.html">spdk_nvme_cpl</a> *&#160;&#160;&#160;<b>vaddr</b></td></tr>
<tr class="separator:aaf415112d0bf4d5c7c08027b505d1962"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad31c37acab9b9b41df757fa6d54cd449"><td class="memItemLeft" >
&#160;&#160;&#160;uint64_t&#160;&#160;&#160;<b>paddr</b></td></tr>
<tr class="separator:ad31c37acab9b9b41df757fa6d54cd449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e73434bcca09a63b81aa985b881f3f"><td class="memItemLeft" >
&#160;&#160;&#160;uint64_t&#160;&#160;&#160;<b>buffer_size</b></td></tr>
<tr class="separator:a35e73434bcca09a63b81aa985b881f3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d65fe6f110468b7a531702184dd81ab"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><b>cq</b></td></tr>
<tr class="separator:a9d65fe6f110468b7a531702184dd81ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>NVMe I/O queue pair initialization options. </p>
<p>These options may be passed to <a class="el" href="nvme_8h.html#a13f745d239dab9b8f934fae2ad4984a2" title="Allocate an I/O queue pair (submission and completion queue). ">spdk_nvme_ctrlr_alloc_io_qpair()</a> to configure queue pair options at queue creation time.</p>
<p>The user may retrieve the default I/O queue pair creation options for a controller using <a class="el" href="nvme_8h.html#a6964d09dc51882fae6f2a7cf94afc741" title="Get the default options for I/O qpair creation for a specific NVMe controller. ">spdk_nvme_ctrlr_get_default_io_qpair_opts()</a>. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a4212825367a435bdef9f2d55ab03d84c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4212825367a435bdef9f2d55ab03d84c">&#9670;&nbsp;</a></span>@25</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union { ... } </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>When submitting I/O via spdk_nvme_ns_read/write and similar functions, don't immediately submit it to hardware. </p>
<p>Instead, queue up new commands and submit them to the hardware inside <a class="el" href="nvme_8h.html#aa331d140870e977722bfbb6826524782" title="Process any outstanding completions for I/O submitted on a queue pair. ">spdk_nvme_qpair_process_completions()</a>.</p>
<p>This results in better batching of I/O commands. Often, it is more efficient to submit batches of commands to the underlying hardware than each command individually.</p>
<p>This only applies to PCIe and RDMA transports.</p>
<p>The flag was originally named delay_pcie_doorbell. To allow backward compatibility both names are kept in unnamed union. </p>

</div>
</div>
<a id="a4af594ef7f8b7e590662633c926146b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4af594ef7f8b7e590662633c926146b4">&#9670;&nbsp;</a></span>io_queue_requests</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t spdk_nvme_io_qpair_opts::io_queue_requests</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of requests to allocate for this NVMe I/O queue. </p>
<p>Overrides <a class="el" href="structspdk__nvme__ctrlr__opts.html#a552e09920f8e8a21243dee31ab05f581" title="The number of requests to allocate for each NVMe I/O queue. ">spdk_nvme_ctrlr_opts::io_queue_requests</a>.</p>
<p>This should be at least as large as io_queue_size.</p>
<p>A single I/O may allocate more than one request, since splitting may be necessary to conform to the device's maximum transfer size, PRP list compatibility requirements, or driver-assisted striping. </p>

</div>
</div>
<a id="adbb8aa3f64bc021ea5e9fddec6796341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbb8aa3f64bc021ea5e9fddec6796341">&#9670;&nbsp;</a></span>io_queue_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t spdk_nvme_io_qpair_opts::io_queue_size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The queue depth of this NVMe I/O queue. </p>
<p>Overrides <a class="el" href="structspdk__nvme__ctrlr__opts.html#a1c91126df78ac91d651dfcdc5236332b" title="The queue depth of each NVMe I/O queue. ">spdk_nvme_ctrlr_opts::io_queue_size</a>. </p>

</div>
</div>
<a id="a9a9ae75991da44a7fbf06a3c82161a6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a9ae75991da44a7fbf06a3c82161a6d">&#9670;&nbsp;</a></span>qprio</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="nvme__spec_8h.html#ae83a61e254cf9d1fd59376ceedd1b4e6">spdk_nvme_qprio</a> spdk_nvme_io_qpair_opts::qprio</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue priority for weighted round robin arbitration. </p>
<p>If a different arbitration method is in use, pass 0. </p>

</div>
</div>
<a id="ac1c1be3c40c578728c2efff560cfaf15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1c1be3c40c578728c2efff560cfaf15">&#9670;&nbsp;</a></span>sq</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct { ... }   spdk_nvme_io_qpair_opts::sq</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>These fields allow specifying the memory buffers for the submission and/or completion queues. </p>
<p>By default, vaddr is set to NULL meaning SPDK will allocate the memory to be used. If vaddr is NULL then paddr must be set to 0. If vaddr is non-NULL, and paddr is zero, SPDK derives the physical address for the NVMe device, in this case the memory must be registered. If a paddr value is non-zero, SPDK uses the vaddr and paddr as passed SPDK assumes that the memory passed is both virtually and physically contiguous. If these fields are used, SPDK will NOT impose any restriction on the number of elements in the queues. The buffer sizes are in number of bytes, and are used to confirm that the buffers are large enough to contain the appropriate queue. These fields are only used by PCIe attached NVMe devices. They are presently ignored for other transports. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="nvme_8h.html">nvme.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
</div>
