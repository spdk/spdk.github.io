<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- For Mobile Devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8">
  <meta name="generator" content="Doxygen 1.8.13">
  <title>SPDK: sock.h File Reference</title>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,900" type="text/css">
  <link href="../css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="tabs.css" type="text/css">
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div class="container-fluid">
  <div id="top">  <!-- do not remove this div, it is closed by doxygen! -->
    <div class="row no-gutters">
      <div class="col-sm-12">
        <section id="nav">
          <div class="navbar navbar-default navbar-static-top banner-tabs">
            <ul class="nav navbar-nav">
              <li role="presentation">
                <a href="http://www.spdk.io/">
                  <i class="glyphicon glyphicon-home"></i>
                  <span class="box-name">home</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/releases/">
                  <i class="glyphicon glyphicon-download-alt"></i>
                  <span class="box-name">download</span>
                </a>
              </li>
              <li class="active" role="presentation">
                <a href="index.html">
                  <i class="glyphicon glyphicon-book"></i>
                  <span class="box-name">documentation</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/development/">
                  <i class="glyphicon glyphicon-wrench"></i>
                  <span class="box-name">development</span>
                </a>
              </li>
              <li role="presentation">
                <a href="https://ci.spdk.io/">
                  <i class="glyphicon glyphicon-ok"></i>
                  <span class="box-name">CI status</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/community/">
                  <i class="glyphicon glyphicon-envelope"></i>
                  <span class="box-name">community</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/blog/">
                  <i class="glyphicon glyphicon-comment"></i>
                  <span class="box-name">Blog</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/roadmap/">
                  <i class="glyphicon glyphicon-map-marker"></i>
                  <span class="box-name">Roadmap</span>
                </a>
              </li>
              <li role="presentation">
                <a href="http://www.spdk.io/news/">
                  <i class="glyphicon glyphicon-bullhorn"></i>
                  <span class="box-name">News</span>
                </a>
              </li>
            </ul>
          </div>
        </section>
      </div>
    </div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sock_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sock.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>TCP socket abstraction layer.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ae297ae75e566b35635d20b959daa7741"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#ae297ae75e566b35635d20b959daa7741">spdk_sock_cb</a>) (void *arg, struct spdk_sock_group *group, struct spdk_sock *sock)</td></tr>
<tr class="memdesc:ae297ae75e566b35635d20b959daa7741"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for <a class="el" href="sock_8h.html#aa07f7a676410527883e2f8159ea1bfea" title="Add a socket to the group. ">spdk_sock_group_add_sock()</a>.  <a href="#ae297ae75e566b35635d20b959daa7741">More...</a><br /></td></tr>
<tr class="separator:ae297ae75e566b35635d20b959daa7741"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5a3ec712fd56490221467d05ce86d7ad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#a5a3ec712fd56490221467d05ce86d7ad">spdk_sock_getaddr</a> (struct spdk_sock *sock, char *saddr, int slen, char *caddr, int clen)</td></tr>
<tr class="memdesc:a5a3ec712fd56490221467d05ce86d7ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get client and server addresses of the given socket.  <a href="#a5a3ec712fd56490221467d05ce86d7ad">More...</a><br /></td></tr>
<tr class="separator:a5a3ec712fd56490221467d05ce86d7ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f624276a1f0122bb624b2e8c5eaba19"><td class="memItemLeft" align="right" valign="top">struct spdk_sock *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#a4f624276a1f0122bb624b2e8c5eaba19">spdk_sock_connect</a> (const char *ip, int port)</td></tr>
<tr class="memdesc:a4f624276a1f0122bb624b2e8c5eaba19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a socket, connect the socket to the specified address and port (of the server), and then return the socket.  <a href="#a4f624276a1f0122bb624b2e8c5eaba19">More...</a><br /></td></tr>
<tr class="separator:a4f624276a1f0122bb624b2e8c5eaba19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cc9153a7848b65e5487e5205f022909"><td class="memItemLeft" align="right" valign="top">struct spdk_sock *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#a4cc9153a7848b65e5487e5205f022909">spdk_sock_listen</a> (const char *ip, int port)</td></tr>
<tr class="memdesc:a4cc9153a7848b65e5487e5205f022909"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a socket, bind the socket to the specified address and port and listen on the socket, and then return the socket.  <a href="#a4cc9153a7848b65e5487e5205f022909">More...</a><br /></td></tr>
<tr class="separator:a4cc9153a7848b65e5487e5205f022909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ea2c431e11b3e15e0fba18fb4faa954"><td class="memItemLeft" align="right" valign="top">struct spdk_sock *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#a5ea2c431e11b3e15e0fba18fb4faa954">spdk_sock_accept</a> (struct spdk_sock *sock)</td></tr>
<tr class="memdesc:a5ea2c431e11b3e15e0fba18fb4faa954"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accept a new connection from a client on the specified socket and return a socket structure which holds the connection.  <a href="#a5ea2c431e11b3e15e0fba18fb4faa954">More...</a><br /></td></tr>
<tr class="separator:a5ea2c431e11b3e15e0fba18fb4faa954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a407c7aebae3d1a1556109da46a73213e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#a407c7aebae3d1a1556109da46a73213e">spdk_sock_close</a> (struct spdk_sock **sock)</td></tr>
<tr class="memdesc:a407c7aebae3d1a1556109da46a73213e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a socket.  <a href="#a407c7aebae3d1a1556109da46a73213e">More...</a><br /></td></tr>
<tr class="separator:a407c7aebae3d1a1556109da46a73213e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abab9e8eaebfc2857e05848580fba864e"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#abab9e8eaebfc2857e05848580fba864e">spdk_sock_recv</a> (struct spdk_sock *sock, void *buf, size_t len)</td></tr>
<tr class="memdesc:abab9e8eaebfc2857e05848580fba864e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a message from the given socket.  <a href="#abab9e8eaebfc2857e05848580fba864e">More...</a><br /></td></tr>
<tr class="separator:abab9e8eaebfc2857e05848580fba864e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad10e77b4f8d7ba40ec75c69247541ef7"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#ad10e77b4f8d7ba40ec75c69247541ef7">spdk_sock_writev</a> (struct spdk_sock *sock, struct iovec *iov, int iovcnt)</td></tr>
<tr class="memdesc:ad10e77b4f8d7ba40ec75c69247541ef7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write message to the given socket from the I/O vector array.  <a href="#ad10e77b4f8d7ba40ec75c69247541ef7">More...</a><br /></td></tr>
<tr class="separator:ad10e77b4f8d7ba40ec75c69247541ef7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e8d8e1b8155267b4b0289710e3b792f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#a4e8d8e1b8155267b4b0289710e3b792f">spdk_sock_set_recvlowat</a> (struct spdk_sock *sock, int nbytes)</td></tr>
<tr class="memdesc:a4e8d8e1b8155267b4b0289710e3b792f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the value used to specify the low water mark (in bytes) for this socket.  <a href="#a4e8d8e1b8155267b4b0289710e3b792f">More...</a><br /></td></tr>
<tr class="separator:a4e8d8e1b8155267b4b0289710e3b792f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec2209ac3d7d278cede96696116662d3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#aec2209ac3d7d278cede96696116662d3">spdk_sock_set_recvbuf</a> (struct spdk_sock *sock, int sz)</td></tr>
<tr class="memdesc:aec2209ac3d7d278cede96696116662d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set receive buffer size for the given socket.  <a href="#aec2209ac3d7d278cede96696116662d3">More...</a><br /></td></tr>
<tr class="separator:aec2209ac3d7d278cede96696116662d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0be72049ed7537c6f8efb99dbb44d20c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#a0be72049ed7537c6f8efb99dbb44d20c">spdk_sock_set_sendbuf</a> (struct spdk_sock *sock, int sz)</td></tr>
<tr class="memdesc:a0be72049ed7537c6f8efb99dbb44d20c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set send buffer size for the given socket.  <a href="#a0be72049ed7537c6f8efb99dbb44d20c">More...</a><br /></td></tr>
<tr class="separator:a0be72049ed7537c6f8efb99dbb44d20c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2fc8fd68b9988e2ec771a82914dcc80"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#ae2fc8fd68b9988e2ec771a82914dcc80">spdk_sock_is_ipv6</a> (struct spdk_sock *sock)</td></tr>
<tr class="memdesc:ae2fc8fd68b9988e2ec771a82914dcc80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether the address of socket is ipv6.  <a href="#ae2fc8fd68b9988e2ec771a82914dcc80">More...</a><br /></td></tr>
<tr class="separator:ae2fc8fd68b9988e2ec771a82914dcc80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73c174585e034587164b1a56d6e8a115"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#a73c174585e034587164b1a56d6e8a115">spdk_sock_is_ipv4</a> (struct spdk_sock *sock)</td></tr>
<tr class="memdesc:a73c174585e034587164b1a56d6e8a115"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether the address of socket is ipv4.  <a href="#a73c174585e034587164b1a56d6e8a115">More...</a><br /></td></tr>
<tr class="separator:a73c174585e034587164b1a56d6e8a115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac5acbacae856635602b0f40c8b676b2"><td class="memItemLeft" align="right" valign="top">struct spdk_sock_group *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#aac5acbacae856635602b0f40c8b676b2">spdk_sock_group_create</a> (void)</td></tr>
<tr class="memdesc:aac5acbacae856635602b0f40c8b676b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new socket group.  <a href="#aac5acbacae856635602b0f40c8b676b2">More...</a><br /></td></tr>
<tr class="separator:aac5acbacae856635602b0f40c8b676b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa07f7a676410527883e2f8159ea1bfea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#aa07f7a676410527883e2f8159ea1bfea">spdk_sock_group_add_sock</a> (struct spdk_sock_group *group, struct spdk_sock *sock, <a class="el" href="sock_8h.html#ae297ae75e566b35635d20b959daa7741">spdk_sock_cb</a> cb_fn, void *cb_arg)</td></tr>
<tr class="memdesc:aa07f7a676410527883e2f8159ea1bfea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a socket to the group.  <a href="#aa07f7a676410527883e2f8159ea1bfea">More...</a><br /></td></tr>
<tr class="separator:aa07f7a676410527883e2f8159ea1bfea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad52142b9c60b305a1eaaf869a321c790"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#ad52142b9c60b305a1eaaf869a321c790">spdk_sock_group_remove_sock</a> (struct spdk_sock_group *group, struct spdk_sock *sock)</td></tr>
<tr class="memdesc:ad52142b9c60b305a1eaaf869a321c790"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a socket from the group.  <a href="#ad52142b9c60b305a1eaaf869a321c790">More...</a><br /></td></tr>
<tr class="separator:ad52142b9c60b305a1eaaf869a321c790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca9341be3f9ec5bd7e571f328e749328"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#aca9341be3f9ec5bd7e571f328e749328">spdk_sock_group_poll</a> (struct spdk_sock_group *group)</td></tr>
<tr class="memdesc:aca9341be3f9ec5bd7e571f328e749328"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll incoming events for each registered socket.  <a href="#aca9341be3f9ec5bd7e571f328e749328">More...</a><br /></td></tr>
<tr class="separator:aca9341be3f9ec5bd7e571f328e749328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73c5abe4d97ecc3521c37b345f7fbfd4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#a73c5abe4d97ecc3521c37b345f7fbfd4">spdk_sock_group_poll_count</a> (struct spdk_sock_group *group, int max_events)</td></tr>
<tr class="memdesc:a73c5abe4d97ecc3521c37b345f7fbfd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll incoming events up to max_events for each registered socket.  <a href="#a73c5abe4d97ecc3521c37b345f7fbfd4">More...</a><br /></td></tr>
<tr class="separator:a73c5abe4d97ecc3521c37b345f7fbfd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad75fdb315be08263dd42aa20e1ca5df9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sock_8h.html#ad75fdb315be08263dd42aa20e1ca5df9">spdk_sock_group_close</a> (struct spdk_sock_group **group)</td></tr>
<tr class="memdesc:ad75fdb315be08263dd42aa20e1ca5df9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close all registered sockets of the group and then remove the group.  <a href="#ad75fdb315be08263dd42aa20e1ca5df9">More...</a><br /></td></tr>
<tr class="separator:ad75fdb315be08263dd42aa20e1ca5df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>TCP socket abstraction layer. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="ae297ae75e566b35635d20b959daa7741"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae297ae75e566b35635d20b959daa7741">&#9670;&nbsp;</a></span>spdk_sock_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* spdk_sock_cb) (void *arg, struct spdk_sock_group *group, struct spdk_sock *sock)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function for <a class="el" href="sock_8h.html#aa07f7a676410527883e2f8159ea1bfea" title="Add a socket to the group. ">spdk_sock_group_add_sock()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>Argument for the callback function. </td></tr>
    <tr><td class="paramname">group</td><td>Socket group. </td></tr>
    <tr><td class="paramname">sock</td><td>Socket. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5ea2c431e11b3e15e0fba18fb4faa954"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ea2c431e11b3e15e0fba18fb4faa954">&#9670;&nbsp;</a></span>spdk_sock_accept()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spdk_sock* spdk_sock_accept </td>
          <td>(</td>
          <td class="paramtype">struct spdk_sock *&#160;</td>
          <td class="paramname"><em>sock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accept a new connection from a client on the specified socket and return a socket structure which holds the connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Listening socket.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the accepted socket on success, or NULL on failure. </dd></dl>

</div>
</div>
<a id="a407c7aebae3d1a1556109da46a73213e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a407c7aebae3d1a1556109da46a73213e">&#9670;&nbsp;</a></span>spdk_sock_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_sock_close </td>
          <td>(</td>
          <td class="paramtype">struct spdk_sock **&#160;</td>
          <td class="paramname"><em>sock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket to close.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure. </dd></dl>

</div>
</div>
<a id="a4f624276a1f0122bb624b2e8c5eaba19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f624276a1f0122bb624b2e8c5eaba19">&#9670;&nbsp;</a></span>spdk_sock_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spdk_sock* spdk_sock_connect </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a socket, connect the socket to the specified address and port (of the server), and then return the socket. </p>
<p>This function is used by client.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ip</td><td>IP address of the server. </td></tr>
    <tr><td class="paramname">port</td><td>Port number of the server.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the connected socket on success, or NULL on failure. </dd></dl>

</div>
</div>
<a id="a5a3ec712fd56490221467d05ce86d7ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a3ec712fd56490221467d05ce86d7ad">&#9670;&nbsp;</a></span>spdk_sock_getaddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_sock_getaddr </td>
          <td>(</td>
          <td class="paramtype">struct spdk_sock *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>saddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>slen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>caddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>clen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get client and server addresses of the given socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket to get address. </td></tr>
    <tr><td class="paramname">saddr</td><td>A pointer to the buffer to hold the address of server. </td></tr>
    <tr><td class="paramname">slen</td><td>Length of the buffer 'saddr'. </td></tr>
    <tr><td class="paramname">caddr</td><td>A pointer to the buffer to hold the address of client. </td></tr>
    <tr><td class="paramname">clen</td><td>Length of the buffer 'caddr'.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure. </dd></dl>

</div>
</div>
<a id="aa07f7a676410527883e2f8159ea1bfea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa07f7a676410527883e2f8159ea1bfea">&#9670;&nbsp;</a></span>spdk_sock_group_add_sock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_sock_group_add_sock </td>
          <td>(</td>
          <td class="paramtype">struct spdk_sock_group *&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct spdk_sock *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sock_8h.html#ae297ae75e566b35635d20b959daa7741">spdk_sock_cb</a>&#160;</td>
          <td class="paramname"><em>cb_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cb_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a socket to the group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>Socket group. </td></tr>
    <tr><td class="paramname">sock</td><td>Socket to add. </td></tr>
    <tr><td class="paramname">cb_fn</td><td>Called when the operation completes. </td></tr>
    <tr><td class="paramname">cb_arg</td><td>Argument passed to the callback function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure. </dd></dl>

</div>
</div>
<a id="ad75fdb315be08263dd42aa20e1ca5df9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad75fdb315be08263dd42aa20e1ca5df9">&#9670;&nbsp;</a></span>spdk_sock_group_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_sock_group_close </td>
          <td>(</td>
          <td class="paramtype">struct spdk_sock_group **&#160;</td>
          <td class="paramname"><em>group</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close all registered sockets of the group and then remove the group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>Group to close.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure. </dd></dl>

</div>
</div>
<a id="aac5acbacae856635602b0f40c8b676b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac5acbacae856635602b0f40c8b676b2">&#9670;&nbsp;</a></span>spdk_sock_group_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spdk_sock_group* spdk_sock_group_create </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new socket group. </p>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the created group on success, or NULL on failure. </dd></dl>

</div>
</div>
<a id="aca9341be3f9ec5bd7e571f328e749328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca9341be3f9ec5bd7e571f328e749328">&#9670;&nbsp;</a></span>spdk_sock_group_poll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_sock_group_poll </td>
          <td>(</td>
          <td class="paramtype">struct spdk_sock_group *&#160;</td>
          <td class="paramname"><em>group</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Poll incoming events for each registered socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>Group to poll.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure. </dd></dl>

</div>
</div>
<a id="a73c5abe4d97ecc3521c37b345f7fbfd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73c5abe4d97ecc3521c37b345f7fbfd4">&#9670;&nbsp;</a></span>spdk_sock_group_poll_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_sock_group_poll_count </td>
          <td>(</td>
          <td class="paramtype">struct spdk_sock_group *&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Poll incoming events up to max_events for each registered socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>Group to poll. </td></tr>
    <tr><td class="paramname">max_events</td><td>Number of maximum events to poll for each socket.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of events on success, -1 on failure. </dd></dl>

</div>
</div>
<a id="ad52142b9c60b305a1eaaf869a321c790"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad52142b9c60b305a1eaaf869a321c790">&#9670;&nbsp;</a></span>spdk_sock_group_remove_sock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_sock_group_remove_sock </td>
          <td>(</td>
          <td class="paramtype">struct spdk_sock_group *&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct spdk_sock *&#160;</td>
          <td class="paramname"><em>sock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a socket from the group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>Socket group. </td></tr>
    <tr><td class="paramname">sock</td><td>Socket to remove.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure. </dd></dl>

</div>
</div>
<a id="a73c174585e034587164b1a56d6e8a115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73c174585e034587164b1a56d6e8a115">&#9670;&nbsp;</a></span>spdk_sock_is_ipv4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool spdk_sock_is_ipv4 </td>
          <td>(</td>
          <td class="paramtype">struct spdk_sock *&#160;</td>
          <td class="paramname"><em>sock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether the address of socket is ipv4. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the address of socket is ipv4, or false otherwise. </dd></dl>

</div>
</div>
<a id="ae2fc8fd68b9988e2ec771a82914dcc80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2fc8fd68b9988e2ec771a82914dcc80">&#9670;&nbsp;</a></span>spdk_sock_is_ipv6()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool spdk_sock_is_ipv6 </td>
          <td>(</td>
          <td class="paramtype">struct spdk_sock *&#160;</td>
          <td class="paramname"><em>sock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether the address of socket is ipv6. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the address of socket is ipv6, or false otherwise. </dd></dl>

</div>
</div>
<a id="a4cc9153a7848b65e5487e5205f022909"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cc9153a7848b65e5487e5205f022909">&#9670;&nbsp;</a></span>spdk_sock_listen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spdk_sock* spdk_sock_listen </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a socket, bind the socket to the specified address and port and listen on the socket, and then return the socket. </p>
<p>This function is used by server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ip</td><td>IP address to listen on. </td></tr>
    <tr><td class="paramname">port</td><td>Port number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the listened socket on success, or NULL on failure. </dd></dl>

</div>
</div>
<a id="abab9e8eaebfc2857e05848580fba864e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abab9e8eaebfc2857e05848580fba864e">&#9670;&nbsp;</a></span>spdk_sock_recv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t spdk_sock_recv </td>
          <td>(</td>
          <td class="paramtype">struct spdk_sock *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive a message from the given socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket to receive message. </td></tr>
    <tr><td class="paramname">buf</td><td>Pointer to a buffer to hold the data. </td></tr>
    <tr><td class="paramname">len</td><td>Length of the buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the length of the received message on success, -1 on failure. </dd></dl>

</div>
</div>
<a id="aec2209ac3d7d278cede96696116662d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec2209ac3d7d278cede96696116662d3">&#9670;&nbsp;</a></span>spdk_sock_set_recvbuf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_sock_set_recvbuf </td>
          <td>(</td>
          <td class="paramtype">struct spdk_sock *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set receive buffer size for the given socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket to set buffer size for. </td></tr>
    <tr><td class="paramname">sz</td><td>Buffer size in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure. </dd></dl>

</div>
</div>
<a id="a4e8d8e1b8155267b4b0289710e3b792f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e8d8e1b8155267b4b0289710e3b792f">&#9670;&nbsp;</a></span>spdk_sock_set_recvlowat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_sock_set_recvlowat </td>
          <td>(</td>
          <td class="paramtype">struct spdk_sock *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the value used to specify the low water mark (in bytes) for this socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket to set for. </td></tr>
    <tr><td class="paramname">nbytes</td><td>Value for recvlowat.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure. </dd></dl>

</div>
</div>
<a id="a0be72049ed7537c6f8efb99dbb44d20c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0be72049ed7537c6f8efb99dbb44d20c">&#9670;&nbsp;</a></span>spdk_sock_set_sendbuf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int spdk_sock_set_sendbuf </td>
          <td>(</td>
          <td class="paramtype">struct spdk_sock *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set send buffer size for the given socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket to set buffer size for. </td></tr>
    <tr><td class="paramname">sz</td><td>Buffer size in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure. </dd></dl>

</div>
</div>
<a id="ad10e77b4f8d7ba40ec75c69247541ef7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad10e77b4f8d7ba40ec75c69247541ef7">&#9670;&nbsp;</a></span>spdk_sock_writev()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t spdk_sock_writev </td>
          <td>(</td>
          <td class="paramtype">struct spdk_sock *&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iovec *&#160;</td>
          <td class="paramname"><em>iov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iovcnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write message to the given socket from the I/O vector array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket to write to. </td></tr>
    <tr><td class="paramname">iov</td><td>I/O vector. </td></tr>
    <tr><td class="paramname">iovcnt</td><td>Number of I/O vectors in the array.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the length of written message on success, -1 on failure. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</div>
